// Copyright (c) 2012-2013 GREE, Inc - http://git.io/uvS3hQ
// Copyright (c) 2010-2012 Tween.js authors - http://git.io/tiDrNw
// Copyright (c) 2001 Robert Penner - http://goo.gl/Qjqc0
// Copyright (c) 2012 imaya - http://git.io/SKEzIQ http://git.io/cC8gDw
(function(){"undefined"==typeof global&&"undefined"!=typeof window?global=window:"undefined"!=typeof cc&&(global=cc),function(){var t,e,r,n,i,s,a,o,l,h,c,u,p,d,f,y,m,g,v,I,w,M,x,b,E,L,F,T,C,A,_,B={}.hasOwnProperty;u=function(t,e){function r(){this.constructor=t}for(var n in e)B.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},L=function(t,e){this.x=null!=t?t:0,this.y=null!=e?e:0},C=function(t,e){this.translateX=null!=t?t:0,this.translateY=null!=e?e:0};var O=function(t,e,r,n,i,s){this.scaleX=t,this.scaleY=e,this.skew0=r,this.skew1=n,this.translateX=i,this.translateY=s,null==this.scaleX&&this.clear()};O.prototype.clear=function(){this.scaleY=this.scaleX=1,this.translateY=this.translateX=this.skew1=this.skew0=0},O.prototype.set=function(t){return this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.skew0=t.skew0,this.skew1=t.skew1,this.translateX=t.translateX,this.translateY=t.translateY,this},O.prototype.setWithComparing=function(t){var e,r,n,i,s,a;return null===t?!1:(e=t.scaleX,r=t.scaleY,n=t.skew0,i=t.skew1,s=t.translateX,a=t.translateY,t=!1,this.scaleX!==e&&(this.scaleX=e,t=!0),this.scaleY!==r&&(this.scaleY=r,t=!0),this.skew0!==n&&(this.skew0=n,t=!0),this.skew1!==i&&(this.skew1=i,t=!0),this.translateX!==s&&(this.translateX=s,t=!0),this.translateY!==a&&(this.translateY=a,t=!0),t)};var k=function(t,e,r,n){this.red=t,this.green=e,this.blue=r,this.alpha=n,null==this.red&&(this.alpha=this.blue=this.green=this.red=0)};k.prototype.set=function(t,e,r,n){"object"==typeof t?(this.red=t.red,this.green=t.green,this.blue=t.blue,this.alpha=t.alpha):(this.red=t,this.green=e,this.blue=r,this.alpha=n)},e=function(t){this.alpha=t};var R=function(t,e,r,n){this.multi=new k(t,e,r,n),null==t&&this.clear()};R.prototype.clear=function(){this.multi.set(1,1,1,1)},R.prototype.set=function(t){return this.multi.set(t.multi),this},R.prototype.setWithComparing=function(t){var e,r,n,i,s;return null===t?!1:(e=t.multi,s=e.red,n=e.green,t=e.blue,e=e.alpha,r=!1,i=this.multi,i.red!==s&&(i.red=s,r=!0),i.green!==n&&(i.green=n,r=!0),i.blue!==t&&(i.blue=t,r=!0),i.alpha!==e&&(i.alpha=e,r=!0),r)};var H=function(){};I=function(){},I.HEADER_SIZE=324,I.FORMAT_VERSION_0=18,I.FORMAT_VERSION_1=16,I.FORMAT_VERSION_2=16,I.FORMAT_TYPE=0,I.OPTION_USE_SCRIPT=1,I.OPTION_USE_TEXTUREATLAS=2,I.MATRIX_FLAG=-2147483648,I.COLORTRANSFORM_FLAG=-2147483648,I.TEXTUREFORMAT_NORMAL=0,I.TEXTUREFORMAT_PREMULTIPLIEDALPHA=1,H.Constant=I,H.StringBase=function(t){this.stringId=t},I=function(t,e,r,n,i){this.stringId=t,this.format=e,this.width=r,this.height=n,this.scale=i},I.prototype.setFilename=function(t){this.filename=t.strings[this.stringId]},H.Texture=I,H.TextureReplacement=function(t,e,r,n,i){this.filename=t,this.format=e,this.width=r,this.height=n,this.scale=i},I=function(t,e,r,n,i,s,a,o,l){this.stringId=t,this.textureId=e,this.rotated=r,this.x=n,this.y=i,this.u=s,this.v=a,this.w=o,this.h=l},I.prototype.setFilename=function(t){this.filename=t.strings[this.stringId]},H.TextureFragment=I,H.TextureFragmentReplacement=function(t,e,r,n,i,s,a,o,l){this.filename=t,this.textureId=e,this.rotated=r,this.x=n,this.y=i,this.u=s,this.v=a,this.w=o,this.h=l},H.Bitmap=function(t,e){this.matrixId=t,this.textureFragmentId=e},I=function(t,e,r,n,i,s,a){this.matrixId=t,this.textureFragmentId=e,this.attribute=r,this.u=n,this.v=i,this.w=s,this.h=a};var S=function(){};S.REPEAT_S=1,S.REPEAT_T=2,I.Attribute=S,H.BitmapEx=I,H.Font=function(t,e){this.stringId=t,this.letterspacing=e},I=function(t,e,r,n,i,s,a,o,l,h,c,u,p,d){this.maxLength=t,this.fontId=e,this.fontHeight=r,this.align=n,this.leftMargin=i,this.rightMargin=s,this.indent=a,this.leading=o,this.strokeColorId=l,this.strokeWidth=h,this.shadowColorId=c,this.shadowOffsetX=u,this.shadowOffsetY=p,this.shadowBlur=d},S=function(){},S.LEFT=0,S.RIGHT=1,S.CENTER=2,S.ALIGN_MASK=3,S.VERTICAL_BOTTOM=4,S.VERTICAL_MIDDLE=8,S.VERTICAL_MASK=12,I.Align=S,H.TextProperty=I,H.Text=function(t,e,r,n,i,s,a){this.matrixId=t,this.nameStringId=e,this.textPropertyId=r,this.stringId=n,this.colorId=i,this.width=s,this.height=a},H.ParticleData=function(t){this.stringId=t},H.Particle=function(t,e,r){this.matrixId=t,this.colorTransformId=e,this.particleDataId=r};var W=function(t,e,r,n,i){this.width=e,this.height=r,this.matrixId=n,this.colorTransformId=i,W.__super__.constructor.call(this,t)};u(W,H.StringBase),H.ProgramObject=W,I=function(t,e){this.graphicObjectType=t,this.graphicObjectId=e},S=function(){},S.BITMAP=0,S.BITMAPEX=1,S.TEXT=2,S.GRAPHIC_OBJECT_MAX=3,I.Type=S,H.GraphicObject=I,H.Graphic=function(t,e){this.graphicObjectId=t,this.graphicObjects=e},I=function(t,e){this.objectType=t,this.objectId=e},S=function(){},S.BUTTON=0,S.GRAPHIC=1,S.MOVIE=2,S.BITMAP=3,S.BITMAPEX=4,S.TEXT=5,S.PARTICLE=6,S.PROGRAMOBJECT=7,S.ATTACHEDMOVIE=8,S.OBJECT_MAX=9,I.Type=S,H.LObject=I,H.Animation=function(t,e){this.animationOffset=t,this.animationLength=e},I=function(t,e,r){this.condition=t,this.keyCode=e,this.animationId=r},S=function(){},S.ROLLOVER=1,S.ROLLOUT=2,S.PRESS=4,S.RELEASE=8,S.DRAGOUT=16,S.DRAGOVER=32,S.RELEASEOUTSIDE=64,S.KEYPRESS=128,I.Condition=S,H.ButtonCondition=I,H.Button=function(t,e,r,n,i,s){this.width=t,this.height=e,this.matrixId=r,this.colorTransformId=n,this.conditionId=i,this.conditions=s};var P=function(t,e){this.frameNo=e,P.__super__.constructor.call(this,t)};u(P,H.StringBase),H.Label=P;var N=function(){N.__super__.constructor.apply(this,arguments)};u(N,H.StringBase),H.InstanceName=N;var X=function(){X.__super__.constructor.apply(this,arguments)};u(X,H.StringBase),H.Event=X,H.String=function(t,e){this.stringOffset=t,this.stringLength=e},H.Place=function(t,e,r,n){this.depth=t,this.objectId=e,this.instanceId=r,this.matrixId=n},H.ControlMoveM=function(t,e){this.placeId=t,this.matrixId=e},H.ControlMoveC=function(t,e){this.placeId=t,this.colorTransformId=e},H.ControlMoveMC=function(t,e,r){this.placeId=t,this.matrixId=e,this.colorTransformId=r},I=function(t,e){this.controlType=t,this.controlId=e},S=function(){},S.MOVE=0,S.MOVEM=1,S.MOVEC=2,S.MOVEMC=3,S.ANIMATION=4,S.CONTROL_MAX=5,I.Type=S,H.Control=I,H.Frame=function(t,e){this.controlOffset=t,this.controls=e},I=function(t,e){this.clipEvent=t,this.animationId=e},S=function(){},S.LOAD=1,S.UNLOAD=2,S.ENTERFRAME=4,I.ClipEvent=S,H.MovieClipEvent=I,H.Movie=function(t,e,r,n,i,s,a){this.depths=t,this.labelOffset=e,this.labels=r,this.frameOffset=n,this.frames=i,this.clipEventId=s,this.clipEvents=a};var D=function(t,e){this.movieId=e,D.__super__.constructor.call(this,t)};u(D,H.StringBase),H.MovieLinkage=D,H.ItemArray=function(t,e){this.offset=t,this.length=e},H.Header=function(t,e,r,n,i,s,a,o,l,h,c,u,p,d,f,y,m,g,v,I,w,M,x,b,E,L,F,T,C,A,_,B,O,k,R,H,S,W,P,N,X,D,j,Y,U,G,V,z,K,Q,q){this.id0=t,this.id1=e,this.id2=r,this.id3=n,this.formatVersion0=i,this.formatVersion1=s,this.formatVersion2=a,this.option=o,this.width=l,this.height=h,this.frameRate=c,this.rootMovieId=u,this.nameStringId=p,this.backgroundColor=d,this.stringBytes=f,this.animationBytes=y,this.translate=m,this.matrix=g,this.color=v,this.alphaTransform=I,this.colorTransform=w,this.objectData=M,this.texture=x,this.textureFragment=b,this.bitmap=E,this.bitmapEx=L,this.font=F,this.textProperty=T,this.text=C,this.particleData=A,this.particle=_,this.programObject=B,this.graphicObject=O,this.graphic=k,this.animation=R,this.buttonCondition=H,this.button=S,this.label=W,this.instanceName=P,this.eventData=N,this.place=X,this.controlMoveM=D,this.controlMoveC=j,this.controlMoveMC=Y,this.control=U,this.frame=G,this.movieClipEvent=V,this.movie=z,this.movieLinkage=K,this.stringData=Q,this.lwfLength=q},t=H.TextProperty.Align,a=H.MovieClipEvent.ClipEvent,f=H.ButtonCondition.Condition,y=H.Constant,A=H.LObject.Type,m=H.Control.Type,g=H.GraphicObject.Type;var j=function(){};j.END=0,j.PLAY=1,j.STOP=2,j.NEXTFRAME=3,j.PREVFRAME=4,j.GOTOFRAME=5,j.GOTOLABEL=6,j.SETTARGET=7,j.EVENT=8,j.CALL=9,j.INSTANCE_TARGET_ROOT=-1,j.INSTANCE_TARGET_PARENT=-2;var Y=function(t,e,r,n,i,s,a,o,l,h,c,u,p,d,f,y,m,g,v,I,w,M,x,b,E,L,F,T,C,A,_,B,O,k,R){this.header=t,this.translates=e,this.matrices=r,this.colors=n,this.alphaTransforms=i,this.colorTransforms=s,this.objects=a,this.textures=o,this.textureFragments=l,this.bitmaps=h,this.bitmapExs=c,this.fonts=u,this.textProperties=p,this.texts=d,this.particleDatas=f,this.particles=y,this.programObjects=m,this.graphicObjects=g,this.graphics=v,this.animations=I,this.buttonConditions=w,this.buttons=M,this.labels=x,this.instanceNames=b,this.events=E,this.places=L,this.controlMoveMs=F,this.controlMoveCs=T,this.controlMoveMCs=C,this.controls=A,this.frames=_,this.movieClipEvents=B,this.movies=O,this.movieLinkages=k,this.strings=R,null!=this.header.header?(t=this.header,this.header=t.header,this.translates=t.translates,this.matrices=t.matrices,this.colors=t.colors,this.alphaTransforms=t.alphaTransforms,this.colorTransforms=t.colorTransforms,this.objects=t.objects,this.textures=t.textures,this.textureFragments=t.textureFragments,this.bitmaps=t.bitmaps,this.bitmapExs=t.bitmapExs,this.fonts=t.fonts,this.textProperties=t.textProperties,this.texts=t.texts,this.particleDatas=t.particleDatas,this.particles=t.particles,this.programObjects=t.programObjects,this.graphicObjects=t.graphicObjects,this.graphics=t.graphics,this.animations=t.animations,this.buttonConditions=t.buttonConditions,this.buttons=t.buttons,this.labels=t.labels,this.instanceNames=t.instanceNames,this.events=t.events,this.places=t.places,this.controlMoveMs=t.controlMoveMs,this.controlMoveCs=t.controlMoveCs,this.controlMoveMCs=t.controlMoveMCs,this.controls=t.controls,this.frames=t.frames,this.movieClipEvents=t.movieClipEvents,this.movies=t.movies,this.movieLinkages=t.movieLinkages,this.strings=t.strings,this.stringMap=t.stringMap,this.eventMap=t.eventMap,this.instanceNameMap=t.instanceNameMap,this.movieLinkageMap=t.movieLinkageMap,this.movieLinkageNameMap=t.movieLinkageNameMap,this.programObjectMap=t.programObjectMap,this.labelMap=t.labelMap,this.useScript=t.useScript,this.useTextureAtlas=t.useTextureAtlas):(this.stringMap={},this.eventMap={},this.instanceNameMap={},this.movieLinkageMap={},this.movieLinkageNameMap={},this.programObjectMap={},this.labelMap=[],null!=this.header?(this.useScript=0!==(this.header.option&H.Constant.OPTION_USE_SCRIPT),this.useTextureAtlas=0!==(this.header.option&H.Constant.OPTION_USE_TEXTUREATLAS)):this.useTextureAtlas=this.useScript=!1)};Y.prototype.check=function(){return null!=this.header&&"L"===this.header.id0&&"W"===this.header.id1&&"F"===this.header.id2&&this.header.formatVersion0===H.Constant.FORMAT_VERSION_0&&this.header.formatVersion1===H.Constant.FORMAT_VERSION_1&&this.header.formatVersion2===H.Constant.FORMAT_VERSION_2?!0:!1},Y.prototype.name=function(){return this.strings[this.header.nameStringId]},Y.prototype.replaceTexture=function(t,e){return 0>t||t>=textures.length?!1:(textures[t]=e,!0)},Y.prototype.replaceTextureFragment=function(t,e){return 0>t||t>=textureFragments.length?!1:(textureFragments[t]=e,!0)};var U=function(){};U.prototype.readByte=function(){return 255&this.d.charCodeAt(this.index++)},U.prototype.readChar=function(){return String.fromCharCode(this.readByte())},U.prototype.readBytes=function(t){var e;return e=this.d.substr(this.index,t),this.index+=t,e},U.prototype.readInt32=function(){return(this.readByte()<<0)+(this.readByte()<<8)+(this.readByte()<<16)+(this.readByte()<<24)},U.prototype.readSingle=function(){var t,e,r,n,i;return n=this.readByte(),r=this.readByte(),e=this.readByte(),t=this.readByte(),i=(255&t<<1|e>>7)-127,e=(127&e)<<16|r<<8|n,0===e&&-127===i?0:(1-2*(t>>7))*(1+e*Math.pow(2,-23))*Math.pow(2,i)},U.prototype.loadTranslate=function(){return new C(this.readSingle(),this.readSingle())},U.prototype.loadMatrix=function(){return new O(this.readSingle(),this.readSingle(),this.readSingle(),this.readSingle(),this.readSingle(),this.readSingle())},U.prototype.loadColor=function(){return new k(this.readSingle(),this.readSingle(),this.readSingle(),this.readSingle())},U.prototype.loadAlphaTransform=function(){return new e(this.readSingle())},U.prototype.loadColorTransform=function(){var t;return t=this.loadColor(),this.loadColor(),new R(t.red,t.green,t.blue,t.alpha)},U.prototype.loadTexture=function(){return new H.Texture(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readSingle())},U.prototype.loadTextureFragment=function(){return new H.TextureFragment(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32())},U.prototype.loadBitmap=function(){return new H.Bitmap(this.readInt32(),this.readInt32())},U.prototype.loadBitmapEx=function(){return new H.BitmapEx(this.readInt32(),this.readInt32(),this.readInt32(),this.readSingle(),this.readSingle(),this.readSingle(),this.readSingle())},U.prototype.loadFont=function(){return new H.Font(this.readInt32(),this.readInt32())},U.prototype.loadTextProperty=function(){return new H.TextProperty(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32())},U.prototype.loadText=function(){return new H.Text(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32())},U.prototype.loadParticleData=function(){return new H.ParticleData(this.readInt32())},U.prototype.loadParticle=function(){return new H.Particle(this.readInt32(),this.readInt32(),this.readInt32())},U.prototype.loadProgramObject=function(){return new H.ProgramObject(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32())},U.prototype.loadGraphicObject=function(){return new H.GraphicObject(this.readInt32(),this.readInt32())},U.prototype.loadGraphic=function(){return new H.Graphic(this.readInt32(),this.readInt32())},U.prototype.loadObject=function(){return new H.LObject(this.readInt32(),this.readInt32())},U.prototype.loadAnimation=function(){return new H.Animation(this.readInt32(),this.readInt32())},U.prototype.loadButtonCondition=function(){return new H.ButtonCondition(this.readInt32(),this.readInt32(),this.readInt32())},U.prototype.loadButton=function(){return new H.Button(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32())},U.prototype.loadLabel=function(){return new H.Label(this.readInt32(),this.readInt32())},U.prototype.loadInstanceName=function(){return new H.InstanceName(this.readInt32())},U.prototype.loadEvent=function(){return new H.Event(this.readInt32())},U.prototype.loadString=function(){return new H.String(this.readInt32(),this.readInt32())},U.prototype.loadPlace=function(){return new H.Place(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32())},U.prototype.loadControlMoveM=function(){return new H.ControlMoveM(this.readInt32(),this.readInt32())},U.prototype.loadControlMoveC=function(){return new H.ControlMoveC(this.readInt32(),this.readInt32())},U.prototype.loadControlMoveMC=function(){return new H.ControlMoveMC(this.readInt32(),this.readInt32(),this.readInt32())},U.prototype.loadControl=function(){return new H.Control(this.readInt32(),this.readInt32())},U.prototype.loadFrame=function(){return new H.Frame(this.readInt32(),this.readInt32())},U.prototype.loadMovieClipEvent=function(){return new H.MovieClipEvent(this.readInt32(),this.readInt32())},U.prototype.loadMovie=function(){return new H.Movie(this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32(),this.readInt32())},U.prototype.loadMovieLinkage=function(){return new H.MovieLinkage(this.readInt32(),this.readInt32())},U.prototype.loadItemArray=function(){return new H.ItemArray(this.readInt32(),this.readInt32())},U.prototype.loadHeader=function(){var t,e,r,n,i,s,a,o,l,h,c,u,p,d,f,y,m,g,v,I,w,M,x,b,E,L,F,T,C,A,_,B,O,k,R,S,W,P,N,X,D,j,Y,U,G,V,z,K,Q,q,$;return E=this.readChar(),L=this.readChar(),F=this.readChar(),T=this.readChar(),m=this.readByte(),g=this.readByte(),v=this.readByte(),P=this.readByte(),$=this.readInt32(),b=this.readInt32(),w=this.readInt32(),Y=this.readInt32(),S=this.readInt32(),n=this.readInt32(),U=this.loadItemArray(),r=this.loadItemArray(),q=this.loadItemArray(),B=this.loadItemArray(),l=this.loadItemArray(),t=this.loadItemArray(),h=this.loadItemArray(),W=this.loadItemArray(),K=this.loadItemArray(),Q=this.loadItemArray(),i=this.loadItemArray(),s=this.loadItemArray(),y=this.loadItemArray(),z=this.loadItemArray(),V=this.loadItemArray(),X=this.loadItemArray(),N=this.loadItemArray(),j=this.loadItemArray(),x=this.loadItemArray(),M=this.loadItemArray(),e=this.loadItemArray(),o=this.loadItemArray(),a=this.loadItemArray(),A=this.loadItemArray(),C=this.loadItemArray(),f=this.loadItemArray(),D=this.loadItemArray(),p=this.loadItemArray(),u=this.loadItemArray(),d=this.loadItemArray(),c=this.loadItemArray(),I=this.loadItemArray(),k=this.loadItemArray(),O=this.loadItemArray(),R=this.loadItemArray(),G=this.loadItemArray(),_=this.readInt32(),new H.Header(E,L,F,T,m,g,v,P,$,b,w,Y,S,n,U,r,q,B,l,t,h,W,K,Q,i,s,y,z,V,X,N,j,x,M,e,o,a,A,C,f,D,p,u,d,c,I,k,O,R,G,_)},U.prototype.load=function(t){var e,r,n,i,s,a,o,l,h,c,u,p,d,f,y,m,g,v,I,w,M,x,b,E,L,F,T,C,A,_,B,O,k,R,H,S,W,P,N,X,D,j,U,G,V,z,K,Q,q,$;if(this.d=t,this.index=0,h=this.loadHeader(),o=new Y(h),!o.check())return null;x=this.readBytes(h.stringBytes.length),r=this.readBytes(h.animationBytes.length);var J,Z,te;for(te=[],c=J=0,Z=h.translate.length;Z>=0?Z>J:J>Z;c=Z>=0?++J:--J)te.push(this.loadTranslate());o.translates=te;var ee,re,ne;for(ne=[],c=ee=0,re=h.matrix.length;re>=0?re>ee:ee>re;c=re>=0?++ee:--ee)ne.push(this.loadMatrix());o.matrices=ne;var ie,se,ae;for(ae=[],c=ie=0,se=h.color.length;se>=0?se>ie:ie>se;c=se>=0?++ie:--ie)ae.push(this.loadColor());o.colors=ae;var oe,le,he;for(he=[],c=oe=0,le=h.alphaTransform.length;le>=0?le>oe:oe>le;c=le>=0?++oe:--oe)he.push(this.loadAlphaTransform());o.alphaTransforms=he;var ce,ue,pe;for(pe=[],c=ce=0,ue=h.colorTransform.length;ue>=0?ue>ce:ce>ue;c=ue>=0?++ce:--ce)pe.push(this.loadColorTransform());o.colorTransforms=pe;var de,fe,ye;for(ye=[],c=de=0,fe=h.objectData.length;fe>=0?fe>de:de>fe;c=fe>=0?++de:--de)ye.push(this.loadObject());o.objects=ye;var me,ge,ve;for(ve=[],c=me=0,ge=h.texture.length;ge>=0?ge>me:me>ge;c=ge>=0?++me:--me)ve.push(this.loadTexture());o.textures=ve;var Ie,we,Me;for(Me=[],c=Ie=0,we=h.textureFragment.length;we>=0?we>Ie:Ie>we;c=we>=0?++Ie:--Ie)Me.push(this.loadTextureFragment());o.textureFragments=Me;var xe,be,Ee;for(Ee=[],c=xe=0,be=h.bitmap.length;be>=0?be>xe:xe>be;c=be>=0?++xe:--xe)Ee.push(this.loadBitmap());o.bitmaps=Ee;var Le,Fe,Te;for(Te=[],c=Le=0,Fe=h.bitmapEx.length;Fe>=0?Fe>Le:Le>Fe;c=Fe>=0?++Le:--Le)Te.push(this.loadBitmapEx());o.bitmapExs=Te;var Ce,Ae,_e;for(_e=[],c=Ce=0,Ae=h.font.length;Ae>=0?Ae>Ce:Ce>Ae;c=Ae>=0?++Ce:--Ce)_e.push(this.loadFont());o.fonts=_e;var Be,Oe,ke;for(ke=[],c=Be=0,Oe=h.textProperty.length;Oe>=0?Oe>Be:Be>Oe;c=Oe>=0?++Be:--Be)ke.push(this.loadTextProperty());o.textProperties=ke;var Re,He,Se;for(Se=[],c=Re=0,He=h.text.length;He>=0?He>Re:Re>He;c=He>=0?++Re:--Re)Se.push(this.loadText());o.texts=Se;var We,Pe,Ne;for(Ne=[],c=We=0,Pe=h.particleData.length;Pe>=0?Pe>We:We>Pe;c=Pe>=0?++We:--We)Ne.push(this.loadParticleData());o.particleDatas=Ne;var Xe,De,je;for(je=[],c=Xe=0,De=h.particle.length;De>=0?De>Xe:Xe>De;c=De>=0?++Xe:--Xe)je.push(this.loadParticle());o.particles=je;var Ye,Ue,Ge;for(Ge=[],c=Ye=0,Ue=h.programObject.length;Ue>=0?Ue>Ye:Ye>Ue;c=Ue>=0?++Ye:--Ye)Ge.push(this.loadProgramObject());o.programObjects=Ge;var Ve,ze,Ke;for(Ke=[],c=Ve=0,ze=h.graphicObject.length;ze>=0?ze>Ve:Ve>ze;c=ze>=0?++Ve:--Ve)Ke.push(this.loadGraphicObject());o.graphicObjects=Ke;var Qe,qe,$e;for($e=[],c=Qe=0,qe=h.graphic.length;qe>=0?qe>Qe:Qe>qe;c=qe>=0?++Qe:--Qe)$e.push(this.loadGraphic());o.graphics=$e;var Je,Ze,tr;for(tr=[],c=Je=0,Ze=h.animation.length;Ze>=0?Ze>Je:Je>Ze;c=Ze>=0?++Je:--Je)tr.push(this.loadAnimation());var er,rr,nr;for(nr=[],c=er=0,rr=h.buttonCondition.length;rr>=0?rr>er:er>rr;c=rr>=0?++er:--er)nr.push(this.loadButtonCondition());o.buttonConditions=nr;var ir,sr,ar;for(ar=[],c=ir=0,sr=h.button.length;sr>=0?sr>ir:ir>sr;c=sr>=0?++ir:--ir)ar.push(this.loadButton());o.buttons=ar;var or,lr,hr;for(hr=[],c=or=0,lr=h.label.length;lr>=0?lr>or:or>lr;c=lr>=0?++or:--or)hr.push(this.loadLabel());o.labels=hr;var cr,ur,pr;for(pr=[],c=cr=0,ur=h.instanceName.length;ur>=0?ur>cr:cr>ur;c=ur>=0?++cr:--cr)pr.push(this.loadInstanceName());o.instanceNames=pr;var dr,fr,yr;for(yr=[],c=dr=0,fr=h.eventData.length;fr>=0?fr>dr:dr>fr;c=fr>=0?++dr:--dr)yr.push(this.loadEvent());o.events=yr;var mr,gr,vr;for(vr=[],c=mr=0,gr=h.place.length;gr>=0?gr>mr:mr>gr;c=gr>=0?++mr:--mr)vr.push(this.loadPlace());o.places=vr;var Ir,wr,Mr;for(Mr=[],c=Ir=0,wr=h.controlMoveM.length;wr>=0?wr>Ir:Ir>wr;c=wr>=0?++Ir:--Ir)Mr.push(this.loadControlMoveM());o.controlMoveMs=Mr;var xr,br,Er;for(Er=[],c=xr=0,br=h.controlMoveC.length;br>=0?br>xr:xr>br;c=br>=0?++xr:--xr)Er.push(this.loadControlMoveC());o.controlMoveCs=Er;var Lr,Fr,Tr;for(Tr=[],c=Lr=0,Fr=h.controlMoveMC.length;Fr>=0?Fr>Lr:Lr>Fr;c=Fr>=0?++Lr:--Lr)Tr.push(this.loadControlMoveMC());o.controlMoveMCs=Tr;var Cr,Ar,_r;for(_r=[],c=Cr=0,Ar=h.control.length;Ar>=0?Ar>Cr:Cr>Ar;c=Ar>=0?++Cr:--Cr)_r.push(this.loadControl());o.controls=_r;var Br,Or,kr;for(kr=[],c=Br=0,Or=h.frame.length;Or>=0?Or>Br:Br>Or;c=Or>=0?++Br:--Br)kr.push(this.loadFrame());o.frames=kr;var Rr,Hr,Sr;for(Sr=[],c=Rr=0,Hr=h.movieClipEvent.length;Hr>=0?Hr>Rr:Rr>Hr;c=Hr>=0?++Rr:--Rr)Sr.push(this.loadMovieClipEvent());o.movieClipEvents=Sr;var Wr,Pr,Nr;for(Nr=[],c=Wr=0,Pr=h.movie.length;Pr>=0?Pr>Wr:Wr>Pr;c=Pr>=0?++Wr:--Wr)Nr.push(this.loadMovie());o.movies=Nr;var Xr,Dr,jr;for(jr=[],c=Xr=0,Dr=h.movieLinkage.length;Dr>=0?Dr>Xr:Xr>Dr;c=Dr>=0?++Xr:--Xr)jr.push(this.loadMovieLinkage());o.movieLinkages=jr;var Yr,Ur,Gr;for(Gr=[],c=Yr=0,Ur=h.stringData.length;Ur>=0?Ur>Yr:Yr>Ur;c=Ur>=0?++Yr:--Yr)Gr.push(this.loadString());for(o.animations=[],L=0,A=tr.length;A>L;L++)e=tr[L],v=e.animationOffset,o.animations.push(this.readAnimation(r.slice(v,v+e.animationLength)));for(o.strings=[],b=o.stringMap,F=0,_=Gr.length;_>F;F++){for(e=Gr[F],v=e.stringOffset,w=x.slice(v,v+e.stringLength),M="",c=0;w.length>c;)n=w.charCodeAt(c),128>n?(M+=String.fromCharCode(n),++c):n>191&&224>n?(i=w.charCodeAt(c+1),M+=String.fromCharCode((31&n)<<6|63&i),c+=2):(i=w.charCodeAt(c+1),s=w.charCodeAt(c+2),a=(15&n)<<12|(63&i)<<6|63&s,M+=String.fromCharCode(a),c+=3);b[M]=o.strings.length,o.strings.push(M)}for(u=o.instanceNameMap,c=T=0,D=o.instanceNames.length;D>=0?D>T:T>D;c=D>=0?++T:--T)u[o.instanceNames[c].stringId]=c;for(l=o.eventMap,c=C=0,j=o.events.length;j>=0?j>C:C>j;c=j>=0?++C:--C)l[o.events[c].stringId]=c;for(m=o.movieLinkageMap,c=H=0,U=o.movieLinkages.length;U>=0?U>H:H>U;c=U>=0?++H:--H)m[o.movieLinkages[c].stringId]=c;for(g=o.movieLinkageNameMap,c=S=0,G=o.movieLinkages.length;G>=0?G>S:S>G;c=G>=0?++S:--S)g[o.movieLinkages[c].movieId]=o.movieLinkages[c].stringId;for(I=o.programObjectMap,c=W=0,V=o.programObjects.length;V>=0?V>W:W>V;c=V>=0?++W:--W)I[o.programObjects[c].stringId]=c;for(d=o.labelMap,z=o.movies,P=0,B=z.length;B>P;P++){for(f=z[P],v=f.labelOffset,y={},K=o.labels.slice(v,v+f.labels),N=0,O=K.length;O>N;N++)p=K[N],y[p.stringId]=p.frameNo;d.push(y)}for(Q=o.textures,X=0,k=Q.length;k>X;X++)E=Q[X],E.setFilename(o);for(q=o.textureFragments,$=0,R=q.length;R>$;$++)E=q[$],E.setFilename(o);return o},U.prototype.readByteFromBytes=function(t,e){var r;return r=255&t.charCodeAt(e++),[e,r]},U.prototype.readInt32FromBytes=function(t,e){var r,n,i,s;return r=this.readByteFromBytes(t,e),e=r[0],r=r[1],n=this.readByteFromBytes(t,e),e=n[0],n=n[1],i=this.readByteFromBytes(t,e),e=i[0],i=i[1],s=this.readByteFromBytes(t,e),e=s[0],[e,(r<<0)+(n<<8)+(i<<16)+(s[1]<<24)]},U.prototype.readAnimation=function(t){var e,r,n,i,s;for(e=[],n=0;;)switch(r=this.readByteFromBytes(t,n),n=r[0],r=r[1],e.push(r),r){case j.GOTOFRAME:case j.GOTOLABEL:case j.EVENT:case j.CALL:r=this.readInt32FromBytes(t,n),n=r[0],r=r[1],e.push(r);break;case j.SETTARGET:for(r=this.readInt32FromBytes(t,n),n=r[0],r=r[1],e.push(r),s=0;r>=0?r>s:s>r;r>=0?++s:--s)i=this.readInt32FromBytes(t,n),n=i[0],i=i[1],e.push(i);break;case j.END:return e}};var G=function(){return _=G.__super__.constructor.apply(this,arguments)};u(G,U),G.prototype.readByte=function(){return this.d[this.index++]},G.prototype.readBytes=function(t){var e,r;for(e="",r=0;t>=0?t>r:r>t;t>=0?++r:--r)e+=String.fromCharCode(this.d[this.index++]);return e},M=G;var V=function(){this.int32Array=new Int32Array,this.float32Array=new Float32Array};u(V,U),V.prototype.readByte=function(){return this.d[this.index++]},V.prototype.readBytes=function(t){var e,r;for(e="",r=0;t>=0?t>r:r>t;t>=0?++r:--r)e+=String.fromCharCode(this.d[this.index++]);return e},V.prototype.readInt32=function(){var t;return t=this.dInt32[this.index/4],this.index+=4,t},V.prototype.readSingle=function(){var t;return t=this.dFloat32[this.index/4],this.index+=4,t},V.prototype.load=function(t){return this.d=new Uint8Array(t),this.dInt32=new Int32Array(t),this.dFloat32=new Float32Array(t),V.__super__.load.call(this,this.d)};var z=function(){};z.load=function(t){var e;return null!=t&&"string"==typeof t?(e=new U,e.load(t)):void 0},z.loadArray=function(t){var e;return null!=t?(e=new M,e.load(t)):void 0},z.loadArrayBuffer=function(t){var e;return null!=t?(e=new V,e.load(t)):void 0};var K=function(){};K.calcMatrixToPoint=function(t,e,r){return[r.scaleX*t+r.skew0*e+r.translateX,r.skew1*t+r.scaleY*e+r.translateY]},K.getMatrixDeterminant=function(t){return 0>t.scaleX*t.scaleY-t.skew0*t.skew1},K.syncMatrix=function(t){var e,r,n,i;r=null!=(i=t.matrixId)?i:0,0===(r&y.MATRIX_FLAG)?(e=t.lwf.data.translates[r],i=r=1,n=0,e={scaleX:r,scaleY:i,skew0:0,skew1:0,translateX:e.translateX,translateY:e.translateY}):(r&=~y.MATRIX_FLAG,e=t.lwf.data.matrices[r],n=this.getMatrixDeterminant(e),r=Math.sqrt(e.scaleX*e.scaleX+e.skew1*e.skew1),n&&(r=-r),i=Math.sqrt(e.scaleY*e.scaleY+e.skew0*e.skew0),n=n?Math.atan2(e.skew1,-e.scaleX):Math.atan2(e.skew1,e.scaleX),n=180*(n/Math.PI)),t.property.setMatrix(e,r,i,n)},K.getX=function(t){var e,r;return e=null!=(r=t.matrixId)?r:0,0===(e&y.MATRIX_FLAG)?(t=t.lwf.data.translates[e],t.translateX):(e&=~y.MATRIX_FLAG,t.lwf.data.matrices[e].translateX)},K.getY=function(t){var e,r;return e=null!=(r=t.matrixId)?r:0,0===(e&y.MATRIX_FLAG)?(t=t.lwf.data.translates[e],t.translateY):(e&=~y.MATRIX_FLAG,t.lwf.data.matrices[e].translateY)},K.getScaleX=function(t){var e,r;return e=null!=(r=t.matrixId)?r:0,0===(e&y.MATRIX_FLAG)?1:(e&=~y.MATRIX_FLAG,e=t.lwf.data.matrices[e],t=this.getMatrixDeterminant(e),e=Math.sqrt(e.scaleX*e.scaleX+e.skew1*e.skew1),t&&(e=-e),e)},K.getScaleY=function(t){var e,r;return e=null!=(r=t.matrixId)?r:0,0===(e&y.MATRIX_FLAG)?1:(e&=~y.MATRIX_FLAG,t=t.lwf.data.matrices[e],Math.sqrt(t.scaleY*t.scaleY+t.skew0*t.skew0))},K.getRotation=function(t){var e,r;return e=null!=(r=t.matrixId)?r:0,0===(e&y.MATRIX_FLAG)?0:(e&=~y.MATRIX_FLAG,t=t.lwf.data.matrices[e],t=this.getMatrixDeterminant(t)?Math.atan2(t.skew1,-t.scaleX):Math.atan2(t.skew1,t.scaleX),t=180*(t/Math.PI))},K.syncColorTransform=function(t){var e,r;e=null!=(r=t.colorTransformId)?r:0,0===(e&y.COLORTRANSFORM_FLAG)?(e=t.lwf.data.alphaTransforms[e],e={multi:{red:1,green:1,blue:1,alpha:e.alpha}}):(e&=~y.COLORTRANSFORM_FLAG,e=t.lwf.data.colorTransforms[e]),t.property.setColorTransform(e)},K.getAlpha=function(t){var e,r;return e=null!=(r=t.colorTransformId)?r:0,0===(e&y.COLORTRANSFORM_FLAG)?(t=t.lwf.data.alphaTransforms[e],t.alpha):(e&=~y.COLORTRANSFORM_FLAG,t.lwf.data.colorTransforms[e].alpha)},K.calcMatrixId=function(t,e,r,n){return 0===n?e.set(r):0===(n&y.MATRIX_FLAG)?(t=t.data.translates[n],e.scaleX=r.scaleX,e.skew0=r.skew0,e.translateX=r.scaleX*t.translateX+r.skew0*t.translateY+r.translateX,e.skew1=r.skew1,e.scaleY=r.scaleY,e.translateY=r.skew1*t.translateX+r.scaleY*t.translateY+r.translateY):(n&=~y.MATRIX_FLAG,t=t.data.matrices[n],this.calcMatrix(e,r,t)),e},K.calcMatrix=function(t,e,r){return t.scaleX=e.scaleX*r.scaleX+e.skew0*r.skew1,t.skew0=e.scaleX*r.skew0+e.skew0*r.scaleY,t.translateX=e.scaleX*r.translateX+e.skew0*r.translateY+e.translateX,t.skew1=e.skew1*r.scaleX+e.scaleY*r.skew1,t.scaleY=e.skew1*r.skew0+e.scaleY*r.scaleY,t.translateY=e.skew1*r.translateX+e.scaleY*r.translateY+e.translateY,t},K.rotateMatrix=function(t,e,r,n,i){return n*=r,i*=r,t.scaleX=-e.skew0*r,t.skew0=e.scaleX*r,t.translateX=e.scaleX*n+e.skew0*i+e.translateX,t.skew1=-e.scaleY*r,t.scaleY=e.skew1*r,t.translateY=e.skew1*n+e.scaleY*i+e.translateY,t},K.scaleMatrix=function(t,e,r,n,i){return n*=r,i*=r,t.scaleX=e.scaleX*r,t.skew0=e.skew0*r,t.translateX=e.scaleX*n+e.skew0*i+e.translateX,t.skew1=e.skew1*r,t.scaleY=e.scaleY*r,t.translateY=e.skew1*n+e.scaleY*i+e.translateY,t},K.fitForHeight=function(t,e,r){r/=t.height,t.scaleByStage=r,t.property.scale(r,r),t.property.move((e-t.width*r)/2,0)},K.fitForWidth=function(t,e,r){e/=t.width,t.scaleByStage=e,t.property.scale(e,e),t.property.move(0,(r-t.height*e)/2,0)},K.scaleForHeight=function(t,e){var r;r=e/t.height,t.scaleByStage=r,t.property.scale(r,r)},K.scaleForWidth=function(t,e){var r;r=e/t.width,t.scaleByStage=r,t.property.scale(r,r)},K.copyMatrix=function(t,e){return null!==e?t.set(e):t.clear(),t},K.invertMatrix=function(t,e){var r;r=e.scaleX*e.scaleY-e.skew0*e.skew1,0!==r?(t.scaleX=e.scaleY/r,t.skew0=-e.skew0/r,t.translateX=(e.skew0*e.translateY-e.translateX*e.scaleY)/r,t.skew1=-e.skew1/r,t.scaleY=e.scaleX/r,t.translateY=(e.translateX*e.skew1-e.scaleX*e.translateY)/r):t.clear()},K.calcColorTransformId=function(t,e,r,n){return 0===n?e.set(r):0===(n&y.COLORTRANSFORM_FLAG)?(t=t.data.alphaTransforms[n],e.multi.red=r.multi.red,e.multi.green=r.multi.green,e.multi.blue=r.multi.blue,e.multi.alpha=r.multi.alpha*t.alpha):(n&=~y.COLORTRANSFORM_FLAG,t=t.data.colorTransforms[n],this.calcColorTransform(e,r,t)),e},K.calcColorTransform=function(t,e,r){return t.multi.red=e.multi.red*r.multi.red,t.multi.green=e.multi.green*r.multi.green,t.multi.blue=e.multi.blue*r.multi.blue,t.multi.alpha=e.multi.alpha*r.multi.alpha,t},K.copyColorTransform=function(t,e){return null!==e?t.set(e):t.clear(),t},K.calcColor=function(t,e,r){t.red=e.red*r.multi.red,t.green=e.green*r.multi.green,t.blue=e.blue*r.multi.blue,t.alpha=e.alpha*r.multi.alpha},K.newIntArray=function(){return[]},K.insertIntArray=function(t,e){var r;0===t.length||e>t[t.length-1]?t.push(e):(r=this.locationOfIntArray(t,e,0,t.length-1),t[r]!==e&&t.splice(r,0,e))},K.deleteIntArray=function(t,e){var r;r=this.locationOfIntArray(t,e,0,t.length-1),t[r]===e&&t.splice(r,1)},K.locationOfIntArray=function(t,e,r,n){for(var i;n>=r;)if(i=(r+n)/2>>0,e>t[i])r=i+1;else{if(!(t[i]>e))return i;n=i-1}return r};var Q=function(){};Q.prototype.constructBitmap=function(){return null},Q.prototype.constructBitmapEx=function(){return null},Q.prototype.constructText=function(){return null},Q.prototype.constructParticle=function(){return null},Q.prototype.init=function(){},Q.prototype.beginRender=function(){},Q.prototype.endRender=function(){},Q.prototype.destruct=function(){},I=function(t,e,r,n){this.lwf=t,this.parent=e,this.type=r,this.objectId=n,this.colorTransformId=this.matrixId=null,this.colorTransformIdChanged=this.matrixIdChanged=!0,this.matrix=new O(0,0,0,0,0,0),this.colorTransform=new R(0,0,0,0),this.execCount=0,this.updated=!1,this.isButton=this.type===A.BUTTON,this.isMovie=this.type===A.MOVIE||this.type===A.ATTACHEDMOVIE,this.isParticle=this.type===A.PARTICLE,this.isProgramObject=this.type===A.PROGRAMOBJECT,this.isText=this.type===A.TEXT},I.prototype.exec=function(t,e){null==t&&(t=0),null==e&&(e=0),this.matrixId!==t&&(this.matrixIdChanged=!0,this.matrixId=t),this.colorTransformId!==e&&(this.colorTransformIdChanged=!0,this.colorTransformId=e)},I.prototype.update=function(t,e){this.updated=!0,null!==t&&(K.calcMatrixId(this.lwf,this.matrix,t,this.dataMatrixId),this.matrixIdChanged=!1),null!==e&&(K.copyColorTransform(this.colorTransform,e),this.colorTransformIdChanged=!1),this.lwf.renderObject()
},I.prototype.render=function(t,e){var r,n,i;null!=this.renderer&&(n=this.lwf.renderingIndex,i=this.lwf.renderingIndexOffsetted,r=this.lwf.renderingCount,e!==Number.MIN_VALUE&&(n=i-e+r),this.renderer.render(this.matrix,this.colorTransform,n,r,t)),this.lwf.renderObject()},I.prototype.inspect=function(t,e,r,n){var i,s,a;s=this.lwf.renderingIndex,a=this.lwf.renderingIndexOffsetted,i=this.lwf.renderingCount,n!==Number.MIN_VALUE&&(s=a+n+i),t(this,e,r,s),this.lwf.renderObject()},I.prototype.destroy=function(){this.renderer&&(this.renderer.destruct(),this.renderer=null),this.lwf=this.parent=null};var q=function(t,e,i){var s,a,o,l,h,c,u;for(q.__super__.constructor.call(this,t,e,A.GRAPHIC,i),i=t.data.graphics[i],h=i.graphicObjects,this.displayList=[],o=t.data.graphicObjects,l=u=0;h>=0?h>u:u>h;l=h>=0?++u:--u)if(s=o[i.graphicObjectId+l],a=s.graphicObjectId,-1!==a){switch(s.graphicObjectType){case g.BITMAP:c=new r(t,e,a);break;case g.BITMAPEX:c=new n(t,e,a);break;case g.TEXT:c=new T(t,e,a)}c.exec(),this.displayList[l]=c}};u(q,I),q.prototype.update=function(t,e){var r,n,i,s;for(s=this.displayList,n=0,i=s.length;i>n;n++)r=s[n],r.update(t,e)},q.prototype.render=function(t,e){var r,n,i,s;if(t)for(s=this.displayList,n=0,i=s.length;i>n;n++)r=s[n],r.render(t,e)},q.prototype.destroy=function(){var t,e,r,n;for(n=this.displayList,e=0,r=n.length;r>e;e++)t=n[e],t.destroy();this.displayList=null},v=q;var $=function(t,e,r){$.__super__.constructor.call(this,t,e,A.BITMAP,r),this.dataMatrixId=t.data.bitmaps[r].matrixId,this.renderer=t.rendererFactory.constructBitmap(t,r,this)};u($,I),r=$;var J=function(t,e,r){J.__super__.constructor.call(this,t,e,A.BITMAPEX,r),this.dataMatrixId=t.data.bitmapExs[r].matrixId,this.renderer=t.rendererFactory.constructBitmapEx(t,r,this)};u(J,I),n=J;var Z=function(t,e,r){Z.__super__.constructor.call(this,t,e,A.TEXT,r),this.dataMatrixId=t.data.texts[r].matrixId,this.renderer=t.rendererFactory.constructText(t,r,this)};u(Z,I),T=Z;var te=function(t,e,r){te.__super__.constructor.call(this,t,e,A.PARTICLE,r),this.dataMatrixId=t.data.particles[r].matrixId,this.renderer=t.rendererFactory.constructParticle(t,r,this)};u(te,I),te.prototype.update=function(t,e){te.__super__.update.call(this,t,e),null!=this.renderer&&this.renderer.update(this.matrix,this.colorTransform)},E=te;var ee=function(t,e,r){ee.__super__.constructor.call(this,t,e,A.PROGRAMOBJECT,r),e=t.data.programObjects[r],this.dataMatrixId=e.matrixId,t=t.getProgramObjectConstructor(r),null!=t&&(this.renderer=t(this,r,e.width,e.height))};u(ee,I),ee.prototype.update=function(t,e){ee.__super__.update.call(this,t,e),null!=this.renderer&&this.renderer.update(this.matrix,this.colorTransform)},F=ee;var re=function(t,e,r,n,i){re.__super__.constructor.call(this,t,e,r,n),this.linkInstance=this.nextInstance=this.prevInstance=null,this.instanceId=i>=t.data.instanceNames.length?-1:i,this.instanceId>=0&&(r=t.getInstanceNameStringId(this.instanceId),-1!==r&&(this.name=t.data.strings[r],null!=e&&(e[this.name]=this)),t=this.lwf.getInstance(this.instanceId),null!=t&&(t.prevInstance=this),this.nextInstance=t,this.lwf.setInstance(this.instanceId,this))};u(re,I),re.prototype.destroy=function(){var t;return this.type!==A.ATTACHEDMOVIE&&this.instanceId>=0&&(t=this.lwf.getInstance(this.instanceId),t===this&&this.lwf.setInstance(this.instanceId,this.nextInstance),null!=this.nextInstance&&(this.nextInstance.prevInstance=this.prevInstance),null!=this.prevInstance&&(this.prevInstance.nextInstance=this.nextInstance)),null!=this.name&&"undefined"!=typeof parent&&null!==parent&&delete parent[this.name],this.linkInstance=this.nextInstance=this.prevInstance=null,re.__super__.destroy.apply(this,arguments)},re.prototype.linkButton=function(){},re.prototype.getFullName=function(){var t,e,r;for(r=t="",e=this;null!=e;){if(null==e.name)return null;t=e.name+r+t,r=".",e=e.parent}return t},I=re;var ne=function(t,e,r,n,i,s){null==i&&(i=null),null==s&&(s=null),ne.__super__.constructor.call(this,t,e,A.BUTTON,r,n),this.matrixId=i,this.colorTransformId=s,this.invert=new O,this.hitY=this.hitX=Number.MIN_VALUE,r>=0?(this.data=t.data.buttons[r],this.dataMatrixId=this.data.matrixId,this.width=this.data.width,this.height=this.data.height):this.height=this.width=0,this.handler=t.getButtonEventHandlers(this),null!=this.handler&&this.handler.call("load",this)};u(ne,I),ne.prototype.setHandlers=function(t){null!=this.handler?this.handler.concat(t):this.handler=t},ne.prototype.exec=function(t,e){null==t&&(t=0),null==e&&(e=0),ne.__super__.exec.call(this,t,e),this.enterFrame()},ne.prototype.update=function(t,e){ne.__super__.update.call(this,t,e),null!=this.handler&&this.handler.call("update",this)},ne.prototype.render=function(){null!=this.handler&&this.handler.call("render",this)},ne.prototype.destroy=function(){this.lwf.clearFocus(this),this.lwf.clearPressed(this),null!=this.handler&&this.handler.call("unload",this),ne.__super__.destroy.apply(this,arguments)},ne.prototype.linkButton=function(){this.buttonLink=this.lwf.buttonHead,this.lwf.buttonHead=this},ne.prototype.checkHit=function(t,e){var r,n;return K.invertMatrix(this.invert,this.matrix),n=K.calcMatrixToPoint(t,e,this.invert),r=n[0],n=n[1],r>=0&&this.data.width>r&&n>=0&&this.data.height>n?(this.hitX=r,this.hitY=n,!0):(this.hitY=this.hitX=Number.MIN_VALUE,!1)},ne.prototype.enterFrame=function(){null!=this.handler&&this.handler.call("enterFrame",this)},ne.prototype.rollOver=function(){null!=this.handler&&this.handler.call("rollOver",this),this.playAnimation(f.ROLLOVER)},ne.prototype.rollOut=function(){null!=this.handler&&this.handler.call("rollOut",this),this.playAnimation(f.ROLLOUT)},ne.prototype.press=function(){null!=this.handler&&this.handler.call("press",this),this.playAnimation(f.PRESS)},ne.prototype.release=function(){null!=this.handler&&this.handler.call("release",this),this.playAnimation(f.RELEASE)},ne.prototype.keyPress=function(t){null!=this.handler&&this.handler.call("keyPress",this),this.playAnimation(f.KEYPRESS,t)},ne.prototype.playAnimation=function(t,e){var r,n,i,s;for(null==e&&(e=0),n=this.lwf.data.buttonConditions,r=i=0,s=this.data.conditions;s>=0?s>i:i>s;r=s>=0?++i:--i)r=n[this.data.conditionId+r],0!==(r.condition&t)&&(t!==f.KEYPRESS||r.keyCode===e)&&this.lwf.playAnimation(r.animationId,this.parent,this)},ne.prototype.addEventHandler=function(t,e){switch(t){case"load":case"unload":case"enterFrame":case"update":case"render":case"press":case"release":case"rollOver":case"rollOut":case"keyPress":this.lwf.interactive=!0,null==this.handler&&this.setHandlers(new s),this.handler.addHandler(t,e)}},ne.prototype.removeEventHandler=function(t,e){switch(t){case"load":case"unload":case"enterFrame":case"update":case"render":case"press":case"release":case"rollOver":case"rollOut":case"keyPress":null!=this.handler&&this.handler.removeHandler(t,e)}},ne.prototype.clearEventHandler=function(t){switch(null==t&&(t=null),t){case null:null!=this.handler&&this.handler.clear();break;case"load":case"unload":case"enterFrame":case"update":case"render":case"press":case"release":case"rollOver":case"rollOut":case"keyPress":null!=this.handler&&this.handler.clear(t)}},ne.prototype.setEventHandler=function(t,e){this.clearEventHandler(t),this.addEventHandler(t,e)},i=ne;var ie=function(t,e){this.parent=t,this.child=e,this.lwf=this.parent.lwf};u(ie,i),ie.prototype.checkHit=function(t,e){return null!==this.child.inputPoint(t,e)?!0:!1},ie.prototype.rollOver=function(){},ie.prototype.rollOut=function(){null!=this.child.focus&&(this.child.focus.rollOut(),this.child.clearFocus(this.child.focus))},ie.prototype.press=function(){this.child.inputPress()},ie.prototype.release=function(){this.child.inputRelease()},ie.prototype.keyPress=function(t){this.child.inputKeyPress(t)};var se=function(t){this.lwf=t,this.matrix=new O,this.colorTransform=new R,this.scaleY=this.scaleX=1,this.rotation=0,this.hasColorTransform=this.hasMatrix=!1,this.clearRenderingOffset()};se.prototype.clear=function(){this.scaleY=this.scaleX=1,this.rotation=0,this.matrix.clear(),this.colorTransform.clear(),(this.hasMatrix||this.hasColorTransform)&&this.lwf.setPropertyDirty(),this.hasColorTransform=this.hasMatrix=!1,this.clearRenderingOffset()},se.prototype.move=function(t,e){this.matrix.translateX+=t,this.matrix.translateY+=e,this.hasMatrix=!0,this.lwf.setPropertyDirty()},se.prototype.moveTo=function(t,e){this.matrix.translateX=t,this.matrix.translateY=e,this.hasMatrix=!0,this.lwf.setPropertyDirty()},se.prototype.rotate=function(t){this.rotateTo(this.rotation+t)},se.prototype.rotateTo=function(t){this.rotation=t,this.setScaleAndRotation()},se.prototype.scale=function(t,e){this.scaleX*=t,this.scaleY*=e,this.setScaleAndRotation()},se.prototype.scaleTo=function(t,e){this.scaleX=t,this.scaleY=e,this.setScaleAndRotation()},se.prototype.setScaleAndRotation=function(){var t,e;e=this.rotation*Math.PI/180,0===e?(t=1,e=0):(t=Math.cos(e),e=Math.sin(e)),this.matrix.scaleX=this.scaleX*t,this.matrix.skew0=this.scaleY*-e,this.matrix.skew1=this.scaleX*e,this.matrix.scaleY=this.scaleY*t,this.hasMatrix=!0,this.lwf.setPropertyDirty()},se.prototype.setMatrix=function(t,e,r,n){this.scaleX=null!=e?e:1,this.scaleY=null!=r?r:1,this.rotation=null!=n?n:0,this.matrix.set(t),this.hasMatrix=!0,this.lwf.setPropertyDirty()},se.prototype.setAlpha=function(t){this.colorTransform.multi.alpha=t,this.hasColorTransform=!0,this.lwf.setPropertyDirty()},se.prototype.setColorTransform=function(t){this.colorTransform.set(t),this.hasColorTransform=!0,this.lwf.setPropertyDirty()},se.prototype.setRenderingOffset=function(t){this.renderingOffset=t,this.hasRenderingOffset=!0},se.prototype.clearRenderingOffset=function(){this.renderingOffset=Number.MIN_VALUE,this.hasRenderingOffset=!1};var ae=function(t,e,r,n,i,s,o,l){var h;null==i&&(i=null),null==s&&(s=null),null==o&&(o=!1),null==l&&(l=null),ae.__super__.constructor.call(this,t,e,o?A.ATTACHEDMOVIE:A.MOVIE,r,n),this.matrixId=i,this.colorTransformId=s,this.data=t.data.movies[r],this.totalFrames=this.data.frames,this.instanceTail=this.instanceHead=null,this.lastControls=this.lastControlOffset=this.animationPlayedFrame=this.execedFrame=this.currentFrameInternal=-1,this.lastHasButton=!1,this.lastControlAnimationOffset=-1,this.postLoaded=this.skipped=!1,this.playing=this.visible=this.active=!0,this.attachMoviePostExeced=this.attachMovieExeced=this.overriding=this.jumped=!1,this.postExecCount=this.movieExecCount=-1,this.eventHandlers={},this.property=new se(t),this.__defineGetter__!==void 0?(this.__defineGetter__("x",function(){return this.getX()}),this.__defineSetter__("x",function(t){return this.setX(t)}),this.__defineGetter__("y",function(){return this.getY()}),this.__defineSetter__("y",function(t){return this.setY(t)}),this.__defineGetter__("scaleX",function(){return this.getScaleX()}),this.__defineSetter__("scaleX",function(t){return this.setScaleX(t)}),this.__defineGetter__("scaleY",function(){return this.getScaleY()}),this.__defineSetter__("scaleY",function(t){return this.setScaleY(t)}),this.__defineGetter__("rotation",function(){return this.getRotation()}),this.__defineSetter__("rotation",function(t){return this.setRotation(t)}),this.__defineGetter__("alpha",function(){return this.getAlphaProperty()}),this.__defineSetter__("alpha",function(t){return this.setAlphaProperty(t)}),this.__defineGetter__("currentFrame",function(){return this.currentFrameInternal+1})):Object.defineProperty!==void 0&&(Object.defineProperty(this,"x",{get:function(){return this.getX()},set:function(t){return this.setX(t)}}),Object.defineProperty(this,"y",{get:function(){return this.getY()},set:function(t){return this.setY(t)}}),Object.defineProperty(this,"scaleX",{get:function(){return this.getScaleX()},set:function(t){return this.setScaleX(t)}}),Object.defineProperty(this,"scaleY",{get:function(){return this.getScaleY()},set:function(t){return this.setScaleY(t)}}),Object.defineProperty(this,"rotation",{get:function(){return this.getRotation()},set:function(t){return this.setRotation(t)}}),Object.defineProperty(this,"alpha",{get:function(){return this.getAlphaProperty()},set:function(t){return this.setAlphaProperty(t)}}),Object.defineProperty(this,"currentFrame",{get:function(){return this.currentFrameInternal+1}})),this.matrix0=new O,this.matrix1=new O,this.colorTransform0=new R,this.colorTransform1=new R,this.blendMode="normal",this.displayList=[],this.depth=this.attachName=null,this.hasButton=!1,this.getMovieFunctions(),r===this.lwf.data.header.rootMovieId&&(e=null!=(h=this.lwf.functions)?h.init:void 0,null!=e&&e.call(this)),null!=this.loadFunc&&this.loadFunc.call(this),this.playAnimation(a.LOAD),this.handler=new b,this.handler.concat(t.getMovieEventHandlers(this)),this.handler.concat(l),this.handler.empty||this.handler.call("load",this),t.execMovieCommand()};u(ae,I),ae.prototype.getMovieFunctions=function(){var t;t=this.lwf.getMovieFunctions(this.objectId),this.loadFunc=t[0],this.postLoadFunc=t[1],this.unloadFunc=t[2],this.enterFrameFunc=t[3]},ae.prototype.setHandlers=function(t){this.handler.concat(t)},ae.prototype.play=function(){return this.playing=!0,this},ae.prototype.stop=function(){return this.playing=!1,this},ae.prototype.nextFrame=function(){return this.jumped=!0,this.stop(),++this.currentFrameInternal,this},ae.prototype.prevFrame=function(){return this.jumped=!0,this.stop(),--this.currentFrameInternal,this},ae.prototype.gotoFrame=function(t){return this.gotoFrameInternal(t-1)},ae.prototype.gotoFrameInternal=function(t){return this.jumped=!0,this.stop(),this.currentFrameInternal=t,this},ae.prototype.setVisible=function(t){return this.visible=t,this},ae.prototype.globalToLocal=function(t){var e,r;return this.property.hasMatrix?(r=new O,r=K.calcMatrix(r,this.matrix,this.property.matrix)):r=this.matrix,e=new O,K.invertMatrix(e,r),t=K.calcMatrixToPoint(t.x,t.y,e),new L(t[0],t[1])},ae.prototype.localToGlobal=function(t){var e;return this.property.hasMatrix?(e=new O,e=K.calcMatrix(e,this.matrix,this.property.matrix)):e=this.matrix,t=K.calcMatrixToPoint(t.x,t.y,e),new L(t[0],t[1])},ae.prototype.getDepth=function(t){return 0===t.length?0:t[t.length-1]+1},ae.prototype.reorderList=function(t,e,r,n,i,s){var a;if(K.insertIntArray(e,n),r[n]=i,t){t=0,n={};for(a in r)i=r[a],s(i,t),e[t]=t,n[t]=i,++t;r=n}return r},ae.prototype.deleteAttachedMovie=function(t,e,r,n){var i,s;return null==r&&(r=!0),null==n&&(n=!0),i=e.attachName,s=e.depth,delete t.attachedMovies[i],delete t.attachedMovieList[s],K.deleteIntArray(t.attachedMovieListKeys,s),n&&delete t.detachedMovies[i],delete t[i],r?e.destroy():void 0},ae.prototype.attachMovie=function(t,e,r){var n,i,s,a,o;if(null==r&&(r=null),t instanceof w)return this.attachLWF(t,e,r);if(null==r&&(r={}),n=r.depth,a=null!=(o=r.reorder)?o:!1,t instanceof ae&&t.lwf===this.lwf)i=t,this.deleteAttachedMovie(i.parent,i,!1);else{if("string"!=typeof t)return null;if(s=this.lwf.searchMovieLinkage(this.lwf.getStringId(t)),-1===s)return null}return null==this.attachedMovies&&(this.attachedMovies={},this.detachedMovies={},this.attachedMovieList={},this.attachedMovieListKeys=K.newIntArray()),t=this.attachedMovies[e],null!=t&&this.deleteAttachedMovie(this,t),a||(t=this.attachedMovieList[n],null!=t&&this.deleteAttachedMovie(this,t)),t=new b,t.add(r),null!=i?i.setHandlers(t):(i=new ae(this.lwf,this,s,-1,0,0,!0,t),this.attachMovieExeced&&i.exec(),this.attachMoviePostExeced&&i.postExec(!0)),i.attachName=e,null==n&&(n=this.getDepth(this.attachedMovieListKeys)),i.depth=n,i.name=e,this.attachedMovies[e]=i,this.attachedMovieList=this.reorderList(a,this.attachedMovieListKeys,this.attachedMovieList,i.depth,i,function(t,e){return t.depth=e}),this[e]=i},ae.prototype.swapAttachedMovieDepth=function(t,e){var r,n;null==this.attachedMovies||t===e||(r=this.attachedMovieList[t],n=this.attachedMovieList[e],null!=r?(r.depth=e,this.attachedMovieList[e]=r,K.insertIntArray(this.attachedMovieListKeys,e)):(delete this.attachedMovieList[e],K.deleteIntArray(this.attachedMovieListKeys,e)),null!=n?(n.depth=t,this.attachedMovieList[t]=n,K.insertIntArray(this.attachedMovieListKeys,t)):(delete this.attachedMovieList[t],K.deleteIntArray(this.attachedMovieListKeys,t)))},ae.prototype.getAttachedMovie=function(t){if(null==this.attachedMovies)return null;switch(typeof t){case"string":return this.attachedMovies[t];case"number":return this.attachedMovieList[t]}},ae.prototype.searchAttachedMovie=function(t,e){var r,n;if(null==e&&(e=!0),r=this.getAttachedMovie(t),null!=r)return r;if(!e)return null;for(n=this.instanceHead;null!==n;){if(n.isMovie&&(r=n.searchAttachedMovie(t,e),null!==r))return r;n=n.linkInstance}return null},ae.prototype.detachMovie=function(t){var e;if(null!=this.detachedMovies)if(t instanceof ae)null!=(null!=t?t.attachName:void 0)&&(this.detachedMovies[t.attachName]=!0);else switch(typeof t){case"string":this.detachedMovies[t]=!0;break;case"number":t=null!=(e=this.attachedMovieList)?e[t]:void 0,null!=(null!=t?t.attachName:void 0)&&(this.detachedMovies[t.attachName]=!0)}},ae.prototype.detachFromParent=function(){this.type===A.ATTACHEDMOVIE&&(this.active=!1,null!=this.parent&&this.parent.detachMovie(this))},ae.prototype.removeMovieClip=function(){null!=this.attachName?null!=this.parent&&this.parent.detachMovie(this):null!=this.lwf.attachName&&null!=this.lwf.parent&&this.lwf.parent.detachLWF(this.lwf)},ae.prototype.execDetachHandler=function(t){t=t.child,null!=t.detachHandler?t.detachHandler(t)&&t.destroy():t.destroy(),t.parent=null,t.detachHandler=null,t.attachName=null},ae.prototype.deleteAttachedLWF=function(t,e,r,n){var i,s;return null==r&&(r=!0),null==n&&(n=!0),i=e.child.attachName,s=e.child.depth,delete t.attachedLWFs[i],delete t.attachedLWFList[s],K.deleteIntArray(t.attachedLWFListKeys,s),n&&delete t.detachedLWFs[i],delete t[i],r?this.execDetachHandler(e):void 0},ae.prototype.attachLWF=function(t,e,r){var n,i,s;null==r&&(r=null),null==r&&(r={}),n=r.depth,s=null!=(i=r.reorder)?i:!1,r=r.detach,null==this.attachedLWFs&&(this.attachedLWFs={},this.detachedLWFs={},this.attachedLWFList={},this.attachedLWFListKeys=K.newIntArray()),null!=t.parent&&(i=t.parent.attachedLWFs[t.attachName],this.deleteAttachedLWF(t.parent,i,!1)),i=this.attachedLWFs[e],null!=i&&this.deleteAttachedLWF(this,i),s||(i=this.attachedLWFList[n],null!=i&&this.deleteAttachedLWF(this,i)),i=new ie(this,t),t.interactive&&(this.lwf.interactive=!0),t.parent=this,t.rootMovie.parent=this,t.detachHandler=r,t.attachName=e,null==n&&(n=this.getDepth(this.attachedLWFListKeys)),t.depth=n,this.attachedLWFs[e]=i,this.attachedLWFList=this.reorderList(s,this.attachedLWFListKeys,this.attachedLWFList,t.depth,i,function(t,e){return t.child.depth=e}),this[e]=t.rootMovie,null!=t.lwfInstanceId&&delete this.lwf.loadedLWFs[t.lwfInstanceId],this.lwf.isLWFAttached=!0},ae.prototype.swapAttachedLWFDepth=function(t,e){var r,n;null==this.attachedLWFs||t===e||(r=this.attachedLWFList[t],n=this.attachedLWFList[e],null!=r?(r.child.depth=e,this.attachedLWFList[e]=r,K.insertIntArray(this.attachedLWFListKeys,e)):(delete this.attachedLWFList[e],K.deleteIntArray(this.attachedLWFListKeys,e)),null!=n?(n.child.depth=t,this.attachedLWFList[t]=n,K.insertIntArray(this.attachedLWFListKeys,t)):(delete this.attachedLWFList[t],K.deleteIntArray(this.attachedLWFListKeys,t)))},ae.prototype.swapDepths=function(t){t instanceof ae?null!=this.attachName?this.parent.swapAttachedMovieDepth(this.depth,t.depth):this.lwf===t.lwf&&null!=this.lwf.attachName&&this.parent.swapAttachedLWFDepth(this.lwf.depth,t.lwf.depth):null!=this.attachName?this.parent.swapAttachedMovieDepth(this.depth,t):null!=this.lwf.attachName&&this.parent.swapAttachedLWFDepth(this.lwf.depth,t)},ae.prototype.getAttachedLWF=function(t){var e,r;if(null==this.attachedLWFs)return null;switch(typeof t){case"string":return null!=(e=this.attachedLWFs[t])?e.child:void 0;case"number":return null!=(r=this.attachedLWFList[t])?r.child:void 0}},ae.prototype.searchAttachedLWF=function(t,e){var r,n;if(null==e&&(e=!0),r=this.getAttachedLWF(t),null!=r)return r;if(!e)return null;for(n=this.instanceHead;null!==n;){if(n.isMovie&&(r=n.searchAttachedLWF(t,e),null!==r))return r;n=n.linkInstance}return null},ae.prototype.detachLWF=function(t){var e,r;if(null!=this.detachedLWFs)if(t instanceof w)null!=(null!=t?t.attachName:void 0)&&(this.detachedLWFs[t.attachName]=!0);else switch(typeof t){case"string":this.detachedLWFs[t]=!0;break;case"number":t=null!=(e=this.attachedLWFList)?e[t]:void 0,null!=(null!=t?null!=(r=t.child)?r.attachName:void 0:void 0)&&(this.detachedLWFs[t.child.attachName]=!0)}},ae.prototype.detachAllLWFs=function(){var t,e,r;if(null!=this.detachedLWFs)for(t in r=this.attachedLWFs)e=r[t],this.detachedLWFs[e.child.attachName]=!0},ae.prototype.execObject=function(t,e,s,a,o){var l,h;if(-1!==e){if(l=this.lwf.data,e=l.objects[e],l=e.objectId,h=this.displayList[t],null!=h&&(h.type!==e.objectType||h.objectId!==l||h.isMovie&&h.instanceId!==o)&&(h.destroy(),h=null),null==h)switch(e.objectType){case A.BUTTON:h=new i(this.lwf,this,l,o,s,a);break;case A.GRAPHIC:h=new v(this.lwf,this,l);break;case A.MOVIE:h=new ae(this.lwf,this,l,o,s,a);break;case A.BITMAP:h=new r(this.lwf,this,l);break;case A.BITMAPEX:h=new n(this.lwf,this,l);break;case A.TEXT:h=new T(this.lwf,this,l);break;case A.PARTICLE:h=new E(this.lwf,this,l);break;case A.PROGRAMOBJECT:h=new F(this.lwf,this,l)}(h.isMovie||h.isButton)&&(h.linkInstance=null,null===this.instanceHead?this.instanceHead=h:this.instanceTail.linkInstance=h,this.instanceTail=h,h.isButton&&(this.hasButton=!0)),this.displayList[t]=h,h.execCount=this.movieExecCount,h.exec(s,a)}},ae.prototype.override=function(t,e){this.overriding=!0,K.copyMatrix(this.matrix,t),K.copyColorTransform(this.colorTransform,e),this.lwf.isPropertyDirty=!0},ae.prototype.exec=function(t,e){null==t&&(t=0),null==e&&(e=0),this.attachMoviePostExeced=this.attachMovieExeced=!1,ae.__super__.exec.call(this,t,e)},ae.prototype.postExec=function(t){var e,r,n,i,s,o,l,h,c;if(this.hasButton=!1,this.active){for(this.execedFrame=-1,l=this.postExecCount===this.lwf.execCount,t&&this.playing&&!this.jumped&&!l&&++this.currentFrameInternal;(0>this.currentFrameInternal||this.currentFrameInternal>=this.totalFrames)&&(this.currentFrameInternal=0),this.currentFrameInternal!==this.execedFrame;){if(this.execedFrame=this.currentFrameCurrent=this.currentFrameInternal,i=this.lwf.data,s=i.frames[this.data.frameOffset+this.currentFrameCurrent],this.lastControlOffset===s.controlOffset&&this.lastControls===s.controls)if(n=this.lastControlAnimationOffset,this.skipped){for(o=this.instanceHead;null!==o;)o.isMovie?(o.attachMovieExeced=!1,o.attachMoviePostExeced=!1):o.isButton&&o.enterFrame(),o=o.linkInstance;this.hasButton=this.lastHasButton}else{for(e=h=0,c=this.data.depths;c>=0?c>h:h>c;e=c>=0?++h:--h)o=this.displayList[e],null!=o&&(l||(o.matrixIdChanged=!1,o.colorTransformIdChanged=!1),o.isMovie?(o.attachMovieExeced=!1,o.attachMoviePostExeced=!1):o.isButton&&(o.enterFrame(),this.hasButton=!0));this.lastHasButton=this.hasButton,this.skipped=!0}else{for(++this.movieExecCount,this.instanceTail=this.instanceHead=null,this.lastControlOffset=s.controlOffset,this.lastControls=s.controls,n=-1,o=h=0,c=s.controls;c>=0?c>h:h>c;o=c>=0?++h:--h)switch(e=i.controls[s.controlOffset+o],e.controlType){case m.MOVE:o=i.places[e.controlId],this.execObject(o.depth,o.objectId,o.matrixId,0,o.instanceId);break;case m.MOVEM:e=i.controlMoveMs[e.controlId],o=i.places[e.placeId],this.execObject(o.depth,o.objectId,e.matrixId,0,o.instanceId);break;case m.MOVEC:e=i.controlMoveCs[e.controlId],o=i.places[e.placeId],this.execObject(o.depth,o.objectId,o.matrixId,e.colorTransformId,o.instanceId);break;case m.MOVEMC:e=i.controlMoveMCs[e.controlId],o=i.places[e.placeId],this.execObject(o.depth,o.objectId,e.matrixId,e.colorTransformId,o.instanceId);break;case m.ANIMATION:-1===n&&(n=o)}for(this.lastControlAnimationOffset=n,this.lastHasButton=this.hasButton,e=h=0,c=this.data.depths;c>=0?c>h:h>c;e=c>=0?++h:--h)o=this.displayList[e],null!=o&&o.execCount!==this.movieExecCount&&(o.destroy(),this.displayList[e]=null)}if(this.attachMovieExeced=!0,null!=this.attachedMovies)for(c=this.attachedMovieListKeys,o=0,h=c.length;h>o;o++)e=c[o],e=this.attachedMovieList[e],e.exec();for(o=this.instanceHead;null!==o;)o.isMovie&&(e=o,e.postExec(t),!this.hasButton&&e.hasButton&&(this.hasButton=!0)),o=o.linkInstance;if(this.attachMoviePostExeced=!0,null!=this.attachedMovies){e=this.detachedMovies;for(r in e)e=this.attachedMovies[r],null!=e&&this.deleteAttachedMovie(this,e,!0,!1);for(this.detachedMovies={},c=this.attachedMovieListKeys,h=0,o=c.length;o>h;h++)e=c[h],e=this.attachedMovieList[e],e.postExec(t),!this.hasButton&&e.hasButton&&(this.hasButton=!0)}if(null!=this.attachedLWFs&&(this.hasButton=!0),this.postLoaded||(this.postLoaded=!0,null!=this.postLoadFunc&&this.postLoadFunc.call(this),this.handler.empty||this.handler.call("postLoad",this)),-1!==n&&this.execedFrame===this.currentFrameInternal&&(e=this.animationPlayedFrame===this.currentFrameCurrent&&!this.jumped,!e))for(o=h=n,c=s.controls;c>=n?c>h:h>c;o=c>=n?++h:--h)e=i.controls[s.controlOffset+o],this.lwf.playAnimation(e.controlId,this);this.animationPlayedFrame=this.currentFrameCurrent,this.currentFrameCurrent===this.currentFrameInternal&&(this.jumped=!1)}null!=this.enterFrameFunc&&this.enterFrameFunc.call(this),this.playAnimation(a.ENTERFRAME),this.handler.empty||this.handler.call("enterFrame",this),this.postExecCount=this.lwf.execCount}},ae.prototype.updateObject=function(t,e,r,n,i){return e=t.isMovie&&t.property.hasMatrix?e:n||!t.updated||t.matrixIdChanged?K.calcMatrixId(this.lwf,this.matrix1,e,t.matrixId):null,r=t.isMovie&&t.property.hasColorTransform?r:i||!t.updated||t.colorTransformIdChanged?K.calcColorTransformId(this.lwf,this.colorTransform1,r,t.colorTransformId):null,t.update(e,r)},ae.prototype.update=function(t,e){var r,n,i,s,a,o,l,h=this;if(this.active){for(this.overriding?n=a=!0:(a=this.matrix.setWithComparing(t),n=this.colorTransform.setWithComparing(e)),this.handler.empty||this.handler.call("update",this),this.property.hasMatrix?(a=!0,t=K.calcMatrix(this.matrix0,this.matrix,this.property.matrix)):t=this.matrix,this.property.hasColorTransform?(n=!0,e=K.calcColorTransform(this.colorTransform0,this.colorTransform,this.property.colorTransform)):e=this.colorTransform,i=s=0,o=this.data.depths;o>=0?o>s:s>o;i=o>=0?++s:--s)i=this.displayList[i],null!=i&&this.updateObject(i,t,e,a,n);if(null!=this.attachedMovies||null!=this.attachedLWFs){if(null!=this.attachedMovies)for(l=this.attachedMovieListKeys,o=0,i=l.length;i>o;o++)s=l[o],s=this.attachedMovieList[s],this.updateObject(s,t,e,a,n);if(null!=this.attachedLWFs){n=this.detachedLWFs;for(r in n)n=this.attachedLWFs[r],null!=n&&this.deleteAttachedLWF(this,n,!0,!1);for(this.detachedLWFs={},o=this.attachedLWFListKeys,r=0,a=o.length;a>r;r++)s=o[r],n=this.attachedLWFList[s],this.lwf.renderObject(n.child.exec(this.lwf.thisTick,t,e))}}this.requestedCalculateBounds&&(this.yMax=this.yMin=this.xMax=this.xMin=0,r=function(t){return h.calculateBounds(t)},this.inspect(r,0,0),this.bounds={xMin:this.xMin,xMax:this.xMax,yMin:this.yMin,yMax:this.yMax},this.requestedCalculateBounds=!1)}},ae.prototype.calculateBounds=function(t){var e;switch(t.type){case A.BITMAP:case A.BITMAPEX:e=t.type===A.BITMAP?t.lwf.data.bitmaps[t.objectId].textureFragmentId:t.lwf.data.bitmapExs[t.objectId].textureFragmentId,null!=e&&e>=0&&(e=t.lwf.data.textureFragments[e],this.updateBounds(t.matrix,e.x,e.x+e.w,e.y,e.y+e.h));break;case A.BUTTON:this.updateBounds(t.matrix,0,t.width,0,t.height);break;case A.TEXT:e=t.lwf.data.texts[t.objectId],this.updateBounds(t.matrix,0,e.width,0,e.height);break;case A.PROGRAMOBJECT:e=t.lwf.data.programObjects[t.objectId],this.updateBounds(t.matrix,0,e.width,0,e.height)}},ae.prototype.updateBounds=function(t,e,r,n,i){var s;for(n=[[e,n],[e,i],[r,n],[r,i]],e=0,r=n.length;r>e;e++)i=n[e],s=K.calcMatrixToPoint(i[0],i[1],t),i=s[0],s=s[1],this.xMin>i?this.xMin=i:i>this.xMax&&(this.xMax=i),this.yMin>s?this.yMin=s:s>this.yMax&&(this.yMax=s)},ae.prototype.linkButton=function(){var t,e,r,n;if(this.visible&&this.active&&this.hasButton){if(null!=this.attachedLWFs)for(n=this.attachedLWFListKeys,r=0,t=n.length;t>r;r++)e=n[r],e=this.attachedLWFList[e],e.linkButton();if(null!=this.attachedMovies)for(n=this.attachedMovieListKeys,r=0,t=n.length;t>r;r++)e=n[r],e=this.attachedMovieList[e],e.hasButton&&e.linkButton();for(t=e=0,r=this.data.depths;r>=0?r>e:e>r;t=r>=0?++e:--e)t=this.displayList[t],null!=t&&(t.isButton?t.linkButton():t.isMovie&&t.hasButton&&t.linkButton())}},ae.prototype.render=function(t,e){var r,n,i,s,a,o;if(this.visible&&this.active||(t=!1),s=i=!1,"normal"!==this.blendMode)switch(this.blendMode){case"add":this.lwf.beginBlendMode(this.blendMode),i=!0;break;case"erase":case"layer":case"mask":this.lwf.beginMaskMode(this.blendMode),s=!0}for(this.handler.empty||this.handler.call("render",this),this.property.hasRenderingOffset&&(this.lwf.renderOffset(),e=this.property.renderingOffset),e===Number.MIN_VALUE&&this.lwf.clearRenderOffset(),n=r=0,a=this.data.depths;a>=0?a>r:r>a;n=a>=0?++r:--r)n=this.displayList[n],null!=n&&n.render(t,e);if(null!=this.attachedMovies)for(o=this.attachedMovieListKeys,a=0,n=o.length;n>a;a++)r=o[a],r=this.attachedMovieList[r],r.render(t,e);if(null!=this.attachedLWFs)for(o=this.attachedLWFListKeys,a=0,n=o.length;n>a;a++)r=o[a],r=this.attachedLWFList[r],r=r.child,r.setAttachVisible(t),this.lwf.renderObject(r.render(this.lwf.renderingIndex,this.lwf.renderingCount,e));i&&this.lwf.endBlendMode(),s&&this.lwf.endMaskMode()},ae.prototype.inspect=function(t,e,r){var n,i,s,a,o;for(this.property.hasRenderingOffset&&(this.lwf.renderOffset(),i=this.property.renderingOffset),i===Number.MIN_VALUE&&this.lwf.clearRenderOffset(),t(this,e,r,i),++e,r=s=0,a=this.data.depths;a>=0?a>s:s>a;r=a>=0?++s:--s)n=this.displayList[r],null!=n&&n.inspect(t,e,r,i);if(null!=this.attachedMovies)for(o=this.attachedMovieListKeys,s=0,a=o.length;a>s;s++)n=o[s],n=this.attachedMovieList[n],n.inspect(t,e,r++,i);if(null!=this.attachedLWFs)for(o=this.attachedLWFListKeys,s=0,a=o.length;a>s;s++)n=o[s],n=this.attachedLWFList[n],n=n.child,this.lwf.renderObject(n.inspect(t,e,r++,i))},ae.prototype.destroy=function(){var t,e,r,n,i;for(i=this.displayList,r=0,n=i.length;n>r;r++)e=i[r],null!=e&&e.destroy();if(null!=this.attachedMovies){r=this.attachedMovies;for(t in r)e=r[t],e.destroy();this.attachedMovieListKeys=this.attachedMovieList=this.detachedMovies=this.attachedMovies=null}if(null!=this.attachedLWFs){r=this.attachedLWFs;for(t in r)e=r[t],this.execDetachHandler(e);this.attachedLWFListKeys=this.attachedLWFList=this.detachedLWFs=this.attachedLWFs=null}null!=this.unloadFunc&&this.unloadFunc.call(this),this.playAnimation(a.UNLOAD),this.handler.empty||this.handler.call("unload",this),this.property=this.displayList=this.instanceTail=this.instanceHead=null,ae.__super__.destroy.apply(this,arguments)},ae.prototype.playAnimation=function(t){var e,r,n,i;for(r=this.lwf.data.movieClipEvents,e=n=0,i=this.data.clipEvents;i>=0?i>n:n>i;e=i>=0?++n:--n)e=r[this.data.clipEventId+e],0!==(e.clipEvent&t)&&this.lwf.playAnimation(e.animationId,this)},ae.prototype.dispatchEvent=function(t){var e,r,n;switch(t){case"load":case"postLoad":case"unload":case"enterFrame":case"update":case"render":this.handler.empty||this.handler.call(t,this);break;default:if(e=this.eventHandlers[t],null==e)return!1;var i;for(i=[],r=0,n=e.length;n>r;r++)t=e[r],i.push(t);for(e=i,r=0,n=e.length;n>r;r++)t=e[r],null!=t&&t.call(this)}return!0},ae.prototype.addEventHandler=function(t,e){var r;switch(t){case"load":case"postLoad":case"unload":case"enterFrame":case"update":case"render":this.handler.addHandler(t,e);break;default:null==(r=this.eventHandlers)[t]&&(r[t]=[]),this.eventHandlers[t].push(e)}},ae.prototype.removeEventHandler=function(t,e){var r,n;switch(t){case"load":case"postLoad":case"unload":case"enterFrame":case"update":case"render":this.handler.removeHandler(t,e);break;default:if(r=this.eventHandlers[t],null==r)break;for(n=0;r.length>n;)r[n]===e?r.splice(n,1):++n;0===r.length&&delete this.eventHandlers[t]
}},ae.prototype.clearEventHandler=function(t){switch(null==t&&(t=null),t){case null:this.handler.clear(),this.eventHandlers={};break;case"load":case"postLoad":case"unload":case"enterFrame":case"update":case"render":this.handler.clear(t);break;default:delete this.eventHandlers[t]}},ae.prototype.setEventHandler=function(t,e){this.clearEventHandler(t),this.addEventHandler(t,e)},ae.prototype.searchFrame=function(t){return this.lwf.searchFrame(this,t)},ae.prototype.gotoLabel=function(t){return"string"==typeof t&&(t=this.lwf.getStringId(t)),this.gotoFrame(this.lwf.searchFrame(this,t)),this},ae.prototype.gotoAndStop=function(t){return"string"==typeof t?this.gotoFrame(this.lwf.searchFrame(this,this.lwf.getStringId(t))):this.gotoFrame(t),this.stop(),this},ae.prototype.gotoAndPlay=function(t){return"string"==typeof t?this.gotoFrame(this.lwf.searchFrame(this,this.lwf.getStringId(t))):this.gotoFrame(t),this.play(),this},ae.prototype.searchMovieInstance=function(t,e){var r,n;for(null==e&&(e=!0),"string"==typeof t&&(t=this.lwf.getStringId(t)),n=this.instanceHead;null!==n;){if(n.isMovie&&this.lwf.getInstanceNameStringId(n.instanceId)===t)return n;if(e&&n.isMovie&&(r=n.searchMovieInstance(t,e),null!==r))return r;n=n.linkInstance}return null},ae.prototype.searchMovieInstanceByInstanceId=function(t,e){var r,n;for(n=this.instanceHead;null!==n;){if(n.isMovie&&n.instanceId===t)return n;if(e&&n.isMovie&&(r=n.searchMovieInstanceByInstanceId(t,e),null!==r))return r;n=n.linkInstance}return null},ae.prototype.searchButtonInstance=function(t,e){var r,n;for(null==e&&(e=!0),"string"==typeof t&&(t=this.lwf.getStringId(t)),n=this.instanceHead;null!==n;){if(n.isButton&&this.lwf.getInstanceNameStringId(n.instanceId)===t)return n;if(e&&n.isMovie&&(r=n.searchButtonInstance(t,e),null!==r))return r;n=n.linkInstance}return null},ae.prototype.searchButtonInstanceByInstanceId=function(t,e){var r,n;for(n=this.instanceHead;null!==n;){if(n.isButton&&n.instanceId===t)return n;if(e&&n.isMovie&&(r=n.searchMovieInstanceByInstanceId(t,e),null!==r))return r;n=n.linkInstance}return null},ae.prototype.move=function(t,e){return this.property.hasMatrix||K.syncMatrix(this),this.property.move(t,e),this},ae.prototype.moveTo=function(t,e){return this.property.hasMatrix||K.syncMatrix(this),this.property.moveTo(t,e),this},ae.prototype.rotate=function(t){return this.property.hasMatrix||K.syncMatrix(this),this.property.rotate(t),this},ae.prototype.rotateTo=function(t){return this.property.hasMatrix||K.syncMatrix(this),this.property.rotateTo(t),this},ae.prototype.scale=function(t,e){return this.property.hasMatrix||K.syncMatrix(this),this.property.scale(t,e),this},ae.prototype.scaleTo=function(t,e){return this.property.hasMatrix||K.syncMatrix(this),this.property.scaleTo(t,e),this},ae.prototype.setMatrix=function(t,e,r,n){return null==r&&(r=1),null==n&&(n=0),this.property.setMatrix(t,scalex,r,n),this},ae.prototype.setAlpha=function(t){return this.property.hasColorTransform||K.syncColorTransform(this),this.property.setAlpha(t),this},ae.prototype.setColorTransform=function(t){return this.property.setColorTransform(t),this},ae.prototype.setRenderingOffset=function(t){return this.property.setRenderingOffset(t),this},ae.prototype.getX=function(){return this.property.hasMatrix?this.property.matrix.translateX:K.getX(this)},ae.prototype.setX=function(t){this.property.hasMatrix||K.syncMatrix(this),this.property.moveTo(t,this.property.matrix.translateY)},ae.prototype.getY=function(){return this.property.hasMatrix?this.property.matrix.translateY:K.getY(this)},ae.prototype.setY=function(t){this.property.hasMatrix||K.syncMatrix(this),this.property.moveTo(this.property.matrix.translateX,t)},ae.prototype.getScaleX=function(){return this.property.hasMatrix?this.property.scaleX:K.getScaleX(this)},ae.prototype.setScaleX=function(t){this.property.hasMatrix||K.syncMatrix(this),this.property.scaleTo(t,this.property.scaleY)},ae.prototype.getScaleY=function(){return this.property.hasMatrix?this.property.scaleY:K.getScaleY(this)},ae.prototype.setScaleY=function(t){this.property.hasMatrix||K.syncMatrix(this),this.property.scaleTo(this.property.scaleX,t)},ae.prototype.getRotation=function(){return this.property.hasMatrix?this.property.rotation:K.getRotation(this)},ae.prototype.setRotation=function(t){this.property.hasMatrix||K.syncMatrix(this),this.property.rotateTo(t)},ae.prototype.getAlphaProperty=function(){return this.property.hasColorTransform?this.property.colorTransform.multi.alpha:K.getAlpha(this)},ae.prototype.setAlphaProperty=function(t){this.property.hasColorTransform||K.syncColorTransform(this),this.property.setAlpha(t)},ae.prototype.requestCalculateBounds=function(){this.requestedCalculateBounds=!0},ae.prototype.getBounds=function(){return this.bounds},ae.prototype.setFrameRate=function(t){var e,r,n,i;if(null!=this.attachedMovies)for(i=this.attachedMovieListKeys,r=0,n=i.length;n>r;r++)e=i[r],e=this.attachedMovieList[e],e.setFrameRate(t);if(null!=this.attachedLWFs)for(i=this.attachedLWFListKeys,r=0,n=i.length;n>r;r++)e=i[r],e=this.attachedLWFList[e],e.child.setFrameRate(t);for(e=this.instanceHead;null!==e;)e.isMovie&&e.setFrameRate(t),e=e.linkInstance},x=ae,S=function(){this.clear()},S.prototype.clear=function(t){var e,r,n;if(null==t&&(t=null),null!=t)null!=this[t]&&(this[t]=[]);else for(n=this.types,e=0,r=n.length;r>e;e++)t=n[e],this[t]=[];this.empty=!0},S.prototype.add=function(t){var e,r,n,i,s;if(null!=t){for(s=this.types,n=0,i=s.length;i>n;n++)r=s[n],e=t[r],null!=e&&this[r].push(e);this.updateEmpty()}},S.prototype.concat=function(t){var e,r,n,i,s,a,o,l;if(null!=t&&!t.empty){for(l=this.types,i=0,a=l.length;a>i;i++)for(n=l[i],r=t[n],s=0,o=r.length;o>s;s++)e=r[s],this[n].push(e);this.updateEmpty()}},S.prototype.addHandler=function(t,e){null!=e&&(this[t].push(e),this.empty=!1)},S.prototype.removeInternal=function(t,e){var r;for(r=0;t.length>r;)t[r]===e?t.splice(r,1):++r},S.prototype.remove=function(t){var e,r,n,i,s;for(s=this.types,n=0,i=s.length;i>n;n++)r=s[n],e=t[r],null!=e&&this.removeInternal(this[r],e);this.updateEmpty()},S.prototype.removeHandler=function(t,e){null!=e&&this.removeInternal(this[t],e),this.updateEmpty()},S.prototype.call=function(t,e){var r,n,i,s;if(n=this[t],null!=n&&n.length>0){var a;for(a=[],i=0,s=n.length;s>i;i++)r=n[i],a.push(r);for(n=a,i=0,s=n.length;s>i;i++)r=n[i],r.call(e)}},S.prototype.updateEmpty=function(){var t,e,r,n,i;for(n=this.types,e=0,r=n.length;r>e;e++)if(t=n[e],(null!=(i=this[t])?i.length:void 0)>0)return this.empty=!1,void 0;this.empty=!0};var oe,le=function(){this.types=oe,le.__super__.constructor.apply(this,arguments)};u(le,S),oe="load postLoad unload enterFrame update render".split(" "),b=le;var he,ce=function(){this.types=he,ce.__super__.constructor.apply(this,arguments)};u(ce,S),he="load unload enterFrame update render press release rollOver rollOut keyPress".split(" "),s=ce;var ue,S=function(t,e,r,n){null==e&&(e=null),null==r&&(r=null),this.privateData=null!=n?n:null,this.data=t,null!=r&&(this.functions=r()),this.width=this.data.header.width,this.height=this.data.header.height,this.backgroundColor=this.data.header.backgroundColor,this.name=this.data.strings[this.data.header.nameStringId],this.interactive=this.data.buttonConditions.length>0,this.lwfInstanceId=this.url=null,this.frameRate=this.data.header.frameRate,this.execLimit=3,this.tick=1/this.frameRate,this.roundOffTick=this.tick*ue,this.thisTick=this.time=0,this.attachVisible=!0,this.execCount=0,this.isLWFAttached=this.isPropertyDirty=this.isExecDisabled=!1,this.interceptByNotAllowOrDenyButtons=!0,this.intercepted=!1,this.scaleByStage=1,this.pointY=this.pointX=Number.MIN_VALUE,this.pressing=!1,this.buttonHead=null,this.blendModes=[],this.maskModes=[],this._tweens=null,!this.interactive&&1===this.data.frames.length&&this.disableExec(),this.property=new se(this),this.instances=[],this.execHandlers=null,this.eventHandlers=[],this.genericEventHandlers=[],this.movieEventHandlers=[],this.buttonEventHandlers=[],this.movieCommands={},this.programObjectConstructors=[],this.loadedLWFs={},this.depth=this.attachName=this.parent=null,this.matrix=new O,this.matrixIdentity=new O,this.colorTransform=new R,this.colorTransformIdentity=new R,this.setRendererFactory(e),this.init()};ue=.05,S.prototype.setRendererFactory=function(t){null==t&&(t=null),null==t&&(t=new Q),this.rendererFactory=t,this.rendererFactory.init(this)},S.prototype.setFrameRate=function(t){0!==t&&(this.frameRate=t,this.tick=1/this.frameRate,this.isLWFAttached&&this.rootMovie.setFrameRate(t))},S.prototype.setPreferredFrameRate=function(t,e){null==e&&(e=2),0!==t&&(this.execLimit=Math.ceil(this.frameRate/t)+e)},S.prototype.fitForHeight=function(t,e){K.fitForHeight(this,t,e)},S.prototype.fitForWidth=function(t,e){K.fitForWidth(this,t,e)},S.prototype.scaleForHeight=function(t){K.scaleForHeight(this,t)},S.prototype.scaleForWidth=function(t){K.scaleForWidth(this,t)},S.prototype.getStageSize=function(){var t;return t=this.rendererFactory.getStageSize(),{width:t[0],height:t[1]}},S.prototype.renderOffset=function(){this.renderingIndexOffsetted=0},S.prototype.clearRenderOffset=function(){this.renderingIndexOffsetted=this.renderingIndex},S.prototype.renderObject=function(t){return null==t&&(t=1),this.renderingIndex+=t,this.renderingIndexOffsetted+=t,this.renderingIndex},S.prototype.beginBlendMode=function(t){this.blendModes.unshift(t),this.rendererFactory.setBlendMode(t)},S.prototype.endBlendMode=function(){this.blendModes.shift(),this.rendererFactory.setBlendMode(this.blendModes.length>0?this.blendModes[0]:"normal")},S.prototype.beginMaskMode=function(t){this.maskModes.unshift(t),this.rendererFactory.setMaskMode(t)},S.prototype.endMaskMode=function(){this.maskModes.shift(),this.rendererFactory.setMaskMode(this.maskModes.length>0?this.maskModes[0]:"normal")},S.prototype.setAttachVisible=function(t){this.attachVisible=t},S.prototype.clearFocus=function(t){this.focus===t&&(this.focus=null)},S.prototype.clearPressed=function(t){this.pressed===t&&(this.pressed=null)},S.prototype.clearIntercepted=function(){this.intercepted=!1},S.prototype.init=function(){this.progress=this.time=0,this.instances=[],this.pressed=this.focus=null,this.movieCommands={},this.rootMovieStringId=this.getStringId("_root"),null!=this.rootMovie&&this.rootMovie.destroy(),this.rootMovie=new x(this,null,this.data.header.rootMovieId,this.searchInstanceId(this.rootMovieStringId))},S.prototype.calcMatrix=function(t){var e;return e=this.property,e.hasMatrix?null!=t?K.calcMatrix(this.matrix,t,e.matrix):e.matrix:null!=t?t:this.matrixIdentity},S.prototype.calcColorTransform=function(t){var e;return e=this.property,e.hasColorTransform?null!=t?K.calcColorTransform(this.colorTransform,t,e.colorTransform):e.colorTransform:null!=t?t:this.colorTransformIdentity},S.prototype.exec=function(t,e,r){var n,i,s,a,o,l,h;if(null==t&&(t=0),null==e&&(e=null),null==r&&(r=null),null!=this.rootMovie){if(s=!1,n=this.progress,this.isExecDisabled&&null===this._tweens)this.executedForExecDisabled||(++this.execCount,this.rootMovie.exec(),this.rootMovie.postExec(!0),s=this.executedForExecDisabled=!0);else{if(o=!0,this.thisTick=t,0===t?this.progress=this.tick:0>t?(this.progress=this.tick,o=!1):0===this.time?(this.time+=this.tick,this.progress+=this.tick):(this.time+=t,this.progress+=t),a=this.execHandlers,null!=a)for(l=0,h=a.length;h>l;l++)i=a[l],i.call(this);for(i=this.execLimit;this.progress>=this.tick-this.roundOffTick;){if(0>--i){this.progress=0;break}this.progress-=this.tick,++this.execCount,this.rootMovie.exec(),this.rootMovie.postExec(o),s=!0}this.progress<this.roundOffTick&&(this.progress=0),this.buttonHead=null,this.interactive&&this.rootMovie.hasButton&&this.rootMovie.linkButton()}return(s||this.isLWFAttached||this.isPropertyDirty||null!=e||null!=r)&&this.update(e,r),!this.execDisabled&&0>t&&(this.progress=n),this.renderingCount}},S.prototype.forceExec=function(t,e){return null==t&&(t=null),null==e&&(e=null),this.exec(0,t,e)},S.prototype.forceExecWithoutProgress=function(t,e){return null==t&&(t=null),null==e&&(e=null),this.exec(-1,t,e)},S.prototype.update=function(t,e){var r,n;null==t&&(t=null),null==e&&(e=null),n=this.calcMatrix(t),r=this.calcColorTransform(e),this.renderingIndexOffsetted=this.renderingIndex=0,this.rootMovie.update(n,r),this.renderingCount=this.renderingIndex,this.thisTick=0,this.isPropertyDirty=!1},S.prototype.render=function(t,e,r){var n;return null==t&&(t=0),null==e&&(e=0),null==r&&(r=Number.MIN_VALUE),null!=this.rootMovie?(n=this.renderingCount,e>0&&(this.renderingCount=e),this.renderingIndexOffsetted=this.renderingIndex=t,this.property.hasRenderingOffset&&(this.renderOffset(),r=this.property.renderingOffset),this.rendererFactory.beginRender(this),this.rootMovie.render(this.attachVisible,r),this.rendererFactory.endRender(this),this.renderingCount=n):void 0},S.prototype.inspect=function(t,e,r,n,i,s){var a;return null==e&&(e=0),null==r&&(r=0),null==n&&(n=0),null==i&&(i=0),null==s&&(s=Number.MIN_VALUE),a=this.renderingCount,i>0&&(this.renderingCount=i),this.renderingIndexOffsetted=this.renderingIndex=n,this.property.hasRenderingOffset&&(this.renderOffset(),s=this.property.renderingOffset),this.rootMovie.inspect(t,e,r,s),this.renderingCount=a},S.prototype.destroy=function(){var t,e,r,n;if(null!=this.rootMovie){null!=this.stopTweens&&this.stopTweens(),n=this.loadedLWFs;for(t in n)e=n[t],e.destroy();this.loadedLWFs=null,this.rootMovie.destroy(),this.rootMovie=null,t=null!=(r=this.functions)?r.destroy:void 0,null!=t&&t.call(this),this.functions=null,null!=this.rendererFactory&&(r=this.rendererFactory.resourceCache,null!=r&&r.unloadLWF(this),this.rendererFactory.destruct(),this.rendererFactory=null),this.programObjectConstructors=this.movieCommands=this.buttonEventHandlers=this.movieEventHandlers=this.genericEventHandlers=this.eventHandlers=this.execHandlers=this.instances=this.buttonHead=this.property=null}},S.prototype.getInstanceNameStringId=function(t){return 0>t||t>=this.data.instanceNames.length?-1:this.data.instanceNames[t].stringId},S.prototype.getStringId=function(t){return t=this.data.stringMap[t],null!=t?t:-1},S.prototype.searchInstanceId=function(t){return 0>t||t>=this.data.strings.length?-1:(t=this.data.instanceNameMap[t],null!=t?t:-1)},S.prototype.searchFrame=function(t,e){var r;return"string"==typeof e&&(e=this.getStringId(e)),0>e||e>=this.data.strings.length?-1:(r=this.data.labelMap[t.objectId][e],null!=r?r+1:-1)},S.prototype.getMovieLabels=function(t){return null==t?null:this.data.labelMap[t.objectId]},S.prototype.searchMovieLinkage=function(t){return 0>t||t>=this.data.strings.length?-1:(t=this.data.movieLinkageMap[t],null!=t?this.data.movieLinkages[t].movieId:-1)},S.prototype.getMovieLinkageName=function(t){return t=this.data.movieLinkageNameMap[t],null!=t?this.data.strings[t]:null},S.prototype.searchMovieInstance=function(t){var e,r,n,i;if("string"==typeof t){if(e=t,-1!==e.indexOf(".")){if(r=e.split("."),r[0]!==this.data.strings[this.rootMovieStringId])return null;for(t=this.rootMovie,n=0,i=r.length;i>n;n++)if(e=r[n],t=t.searchMovieInstance(e,!1),null==t)return null;return t}t=this.getStringId(t)}return this.searchMovieInstanceByInstanceId(this.searchInstanceId(t))},S.prototype.searchMovieInstanceByInstanceId=function(t){if("string"==typeof t&&(t=this.searchInstanceId(this.getStringId(t))),0>t||t>=this.data.instanceNames.length)return null;for(t=this.instances[t];null!=t;){if(t.isMovie)return t;t=t.nextInstance}return null},S.prototype.searchButtonInstance=function(t){var e,r,n,i;if("string"==typeof t){if(e=t,-1!==e.indexOf(".")){if(r=e.split("."),r[0]!==this.data.strings[this.rootMovieStringId])return null;for(e=this.rootMovie,t=n=1,i=r.length;i>=1?i>n:n>i;t=i>=1?++n:--n){if(t===r.length-1)return e.searchButtonInstance(r[t],!1);if(e=e.searchButtonInstance(r[t],!1),null==e)break}return null}t=this.getStringId(t)}return this.searchButtonInstanceByInstanceId(this.searchInstanceId(t))},S.prototype.searchButtonInstanceByInstanceId=function(t){if("string"==typeof t&&(t=this.searchInstanceId(this.getStringId(t))),0>t||t>=this.data.instanceNames.length)return null;for(t=this.instances[t];null!=t;){if(t.isButton)return t;t=t.nextInstance}return null},S.prototype.searchEventId=function(t){return"string"==typeof t&&(t=this.getStringId(t)),0>t||t>=this.data.strings.length?-1:(t=this.data.eventMap[t],null!=t?t:-1)},S.prototype.searchProgramObjectId=function(t){return"string"==typeof t&&(t=this.getStringId(t)),0>t||t>=this.data.strings.length?-1:(t=this.data.programObjectMap[t],null!=t?t:-1)},S.prototype.getInstance=function(t){return this.instances[t]},S.prototype.setInstance=function(t,e){this.instances[t]=e},S.prototype.addExecHandler=function(t){null==this.execHandlers&&(this.execHandlers=[]),this.execHandlers.push(t)},S.prototype.removeExecHandler=function(t){var e,r;if(e=this.execHandlers,null!=e)for(r=0;e.length>r;)e[r]===t?e.splice(r,1):++r},S.prototype.clearExecHandler=function(){this.execHandlers=null},S.prototype.setExecHandler=function(t){this.clearExecHandler(),this.addExecHandler(t)},S.prototype.addEventHandler=function(t,e){var r,n;r="string"==typeof t?this.searchEventId(t):t,0>r||r>=this.data.events.length?(null==(r=this.genericEventHandlers)[t]&&(r[t]=[]),this.genericEventHandlers[t].push(e)):(null==(n=this.eventHandlers)[r]&&(n[r]=[]),this.eventHandlers[r].push(e))},S.prototype.removeEventHandler=function(t,e){var r,n,i,s,a;if(r="string"==typeof t?this.searchEventId(t):t,0>r||r>=this.data.events.length){if(n=this.genericEventHandlers[t],null!=n){r=[];for(i in n)s=n[i],s===e&&r.push(i);for(s=0,a=r.length;a>s;s++)i=r[s],delete n[i]}}else if(n=this.eventHandlers[r],null!=n){for(i=0;n.length>i;)n[i]===e?n.splice(i,1):++i;0===n.length&&delete this.eventHandlers[r]}},S.prototype.clearEventHandler=function(t){var e;e="string"==typeof t?this.searchEventId(t):t,0>e||e>=this.data.events.length?this.genericEventHandlers[t]=null:this.eventHandlers[e]=null},S.prototype.setEventHandler=function(t,e){this.clearEventHandler(t),this.addEventHandler(t,e)},S.prototype.getProgramObjectConstructor=function(t){return"string"==typeof t&&(t=this.searchProgramObjectId(this.getStringId(t))),0>t||t>=this.data.programObjects.length?null:this.programObjectConstructors[t]},S.prototype.setProgramObjectConstructor=function(t,e){"string"==typeof t&&(t=this.searchProgramObjectId(this.getStringId(t))),0>t||t>=this.data.programObjects.length||(this.programObjectConstructors[t]=e)},S.prototype.getMovieEventHandlers=function(t){var e;return"string"==typeof t?(e=this.searchInstanceId(this.getStringId(t)),e>=0&&this.data.instanceNames.length>e?this.movieEventHandlers[e]:null==this.movieEventHandlersByFullName?null:this.movieEventHandlersByFullName[t]):null!=this.movieEventHandlersByFullName&&(e=t.getFullName(),null!=e&&(e=this.movieEventHandlersByFullName[e],null!=e))?e:this.movieEventHandlers[t.instanceId]},S.prototype.addMovieEventHandler=function(t,e){var r,n;if(n=this.searchInstanceId(this.getStringId(t)),n>=0&&this.data.instanceNames.length>n)r=this.movieEventHandlers[n],null==r&&(r=new b,this.movieEventHandlers[n]=r),n=this.searchMovieInstanceByInstanceId(n);else{if(-1===t.indexOf("."))return;null==this.movieEventHandlersByFullName&&(this.movieEventHandlersByFullName=[]),r=this.movieEventHandlersByFullName[t],null==r&&(r=new b,this.movieEventHandlersByFullName[t]=r),n=this.searchMovieInstance(t)}r.add(e),null!=n&&n.setHandlers(r)},S.prototype.removeMovieEventHandler=function(t,e){var r;r=this.getMovieEventHandlers(t),null!=r&&r.remove(e),r=this.searchMovieInstance(t),null!=r&&r.handler.remove(e)},S.prototype.clearMovieEventHandler=function(t,e){var r;null==e&&(e=null),r=this.getMovieEventHandlers(t),null!=r&&r.clear(e),r=this.searchMovieInstance(t),null!=r&&r.handler.clear(e)},S.prototype.setMovieEventHandler=function(t,e){this.clearMovieEventHandler(t),this.addMovieEventHandler(t,e)},S.prototype.getButtonEventHandlers=function(t){var e;return"string"==typeof t?(e=this.searchInstanceId(this.getStringId(t)),e>=0&&this.data.instanceNames.length>e?this.buttonEventHandlers[e]:null==this.buttonEventHandlersByFullName?null:this.buttonEventHandlersByFullName[t]):null!=this.buttonEventHandlersByFullName&&(e=t.getFullName(),null!=e&&(e=this.buttonEventHandlersByFullName[e],null!=e))?e:this.buttonEventHandlers[t.instanceId]},S.prototype.addButtonEventHandler=function(t,e){var r,n;if(this.interactive=!0,r=this.searchInstanceId(this.getStringId(t)),r>=0&&this.data.instanceNames.length>r)n=this.buttonEventHandlers[r],null==n&&(n=new s,this.buttonEventHandlers[r]=n),r=this.searchButtonInstanceByInstanceId(r);else{if(-1===t.indexOf("."))return;null==this.buttonEventHandlersByFullName&&(this.buttonEventHandlersByFullName=[]),n=this.buttonEventHandlersByFullName[t],null==n&&(n=new s,this.buttonEventHandlersByFullName[t]=n),r=this.searchButtonInstance(t)}n.add(e),null!=r&&r.setHandlers(n)},S.prototype.removeButtonEventHandler=function(t,e){var r;r=this.getButtonEventHandlers(t),null!=r&&r.remove(e),r=this.searchButtonInstance(t),null!=(null!=r?r.handler:void 0)&&r.handler.remove(e)},S.prototype.clearButtonEventHandler=function(t,e){var r;null==e&&(e=null),r=this.getButtonEventHandlers(t),null!=r&&r.clear(e),r=this.searchButtonInstance(t),null!=("undefined"!=typeof buffon&&null!==buffon?buffon.handler:void 0)&&r.handler.clear(e)},S.prototype.setButtonEventHandler=function(t,e){this.clearButtonEventHandler(t),this.addButtonEventHandler(t,e)},S.prototype.execMovieCommand=function(){var t,e,r,n,i,s,a,o,l;e=[],l=this.movieCommands;for(r in l){for(s=l[r],t=!0,n=this.rootMovie,a=0,o=r.length;o>a;a++)if(i=r[a],n=n.searchMovieInstance(i),null==n){t=!1;break}t&&(s(n),e.push(r))}for(t=0,n=e.length;n>t;t++)r=e[t],delete this.movieCommands[r]},S.prototype.setMovieCommand=function(t,e){var r;r=t.slice(0),this.movieCommands[r]=e,this.execMovieCommand()},S.prototype.searchAttachedMovie=function(t){return this.rootMovie.searchAttachedMovie(t)},S.prototype.searchAttachedLWF=function(t){return this.rootMovie.searchAttachedLWF(t)},S.prototype.addAllowButton=function(t){return t=this.searchInstanceId(this.getStringId(t)),0>t?!1:(null==this.allowButtonList&&(this.allowButtonList={}),this.allowButtonList[t]=!0)},S.prototype.removeAllowButton=function(t){return null==this.allowButtonList?!1:(t=this.searchInstanceId(this.getStringId(t)),0>t?!1:(delete this.allowButtonList[t],!0))},S.prototype.clearAllowButton=function(){this.allowButtonList=null},S.prototype.addDenyButton=function(t){return t=this.searchInstanceId(this.getStringId(t)),0>t?!1:(null==this.denyButtonList&&(this.denyButtonList={}),this.denyButtonList[t]=!0)},S.prototype.denyAllButtons=function(){var t,e,r;for(null==this.denyButtonList&&(this.denyButtonList={}),t=e=0,r=this.data.instanceNames.length;r>=0?r>e:e>r;t=r>=0?++e:--e)this.denyButtonList[t]=!0},S.prototype.removeDenyButton=function(t){return null==this.denyButtonList?!1:(t=this.searchInstanceId(this.getStringId(t)),0>t?!1:(delete this.denyButtonList[t],!0))},S.prototype.clearDenyButton=function(){this.denyButtonList=null},S.prototype.disableExec=function(){this.isExecDisabled=!0,this.executedForExecDisabled=!1},S.prototype.enableExec=function(){this.isExecDisabled=!1},S.prototype.setPropertyDirty=function(){this.isPropertyDirty=!0,null!=this.parent&&this.parent.lwf.setPropertyDirty()},S.prototype.getMovieFunctions=function(t){var e,r,n,i,s;return r=this.getMovieLinkageName(t),t=null!=(n=this.functions)?n[r+"_load"]:void 0,n=null!=(i=this.functions)?i[r+"_postLoad"]:void 0,i=null!=(e=this.functions)?e[r+"_unload"]:void 0,e=null!=(s=this.functions)?s[r+"_enterFrame"]:void 0,[t,n,i,e]},S.prototype.playAnimation=function(t,e,r){var n,i,s,a,o,l,h;for(s=0,t=this.data.animations[t],a=e;;)switch(n=t[s++]){case j.END:return;case j.PLAY:a.play();break;case j.STOP:a.stop();break;case j.NEXTFRAME:a.nextFrame();break;case j.PREVFRAME:a.prevFrame();break;case j.GOTOFRAME:a.gotoFrameInternal(t[s++]);break;case j.GOTOLABEL:a.gotoFrame(this.searchFrame(a,t[s++]));break;case j.SETTARGET:if(a=e,n=t[s++],0!==n)for(o=0;n>=0?n>o:o>n;n>=0?++o:--o)switch(i=t[s++]){case j.INSTANCE_TARGET_ROOT:a=this.rootMovie;break;case j.INSTANCE_TARGET_PARENT:a=a.parent,null==this.target&&(a=this.rootMovie);break;default:a=a.searchMovieInstanceByInstanceId(i,!1),null==a&&(a=e)}break;case j.EVENT:if(n=t[s++],i=this.eventHandlers[n],null!=i)for(o=0,l=i.length;l>o;o++)n=i[o],n(e,r);break;case j.CALL:n=t[s++],n=null!=(h=this.functions)?h[this.data.strings[n]]:void 0,null!=n&&n.call(e)}},S.prototype.dispatchEvent=function(t,e,r){var n,i,s;if(null==e&&(e=this.rootMovie),null==r&&(r=null),n="string"==typeof t?this.searchEventId(t):t,n=0>n||n>=this.data.events.length?this.genericEventHandlers[t]:this.eventHandlers[n],null==n)return!1;var a;for(a=[],i=0,s=n.length;s>i;i++)t=n[i],a.push(t);for(n=a,i=0,s=n.length;s>i;i++)t=n[i],null!=t&&t(e,r);return!0},S.prototype.inputPoint=function(t,e){var r,n;if(null==this.rootMovie)return null;if(this.intercepted=!1,!this.interactive)return null;for(this.pointX=t,this.pointY=e,n=!1,r=this.buttonHead;null!=r;){if(r.checkHit(t,e)){if(null!=this.allowButtonList){if(null==this.allowButtonList[r.instanceId]){if(this.interceptByNotAllowOrDenyButtons){this.intercepted=!0;break}r=r.buttonLink;continue}}else if(null!=this.denyButtonList&&null!=this.denyButtonList[r.instanceId]){if(this.interceptByNotAllowOrDenyButtons){this.intercepted=!0;break}r=r.buttonLink;continue}n=!0,this.focus!==r&&(null!=this.focus&&this.focus.rollOut(),this.focus=r,this.focus.rollOver());break}r=r.buttonLink}return!n&&null!=this.focus&&(this.focus.rollOut(),this.focus=null),this.focus},S.prototype.inputPress=function(){null!=this.rootMovie&&this.interactive&&(this.pressing=!0,null!=this.focus&&(this.pressed=this.focus,this.focus.press()))},S.prototype.inputRelease=function(){null!=this.rootMovie&&this.interactive&&(this.pressing=!1,null!=this.focus&&this.pressed===this.focus&&(this.focus.release(),this.pressed=null))},S.prototype.inputKeyPress=function(t){var e;if(null!=this.rootMovie&&this.interactive)for(e=this.buttonHead;null!=e;)e.keyPress(t),e=e.buttonLink},w=S,"undefined"!=typeof global&&(null==global.LWF&&(global.LWF={}),global.LWF.Color=k,global.LWF.ColorTransform=R,global.LWF.Format=H,global.LWF.LWF=w,global.LWF.Loader=z,global.LWF.Matrix=O,global.LWF.Movie=x,global.LWF.Point=L,global.LWF.Property=se),w.prototype.addAllowButton=w.prototype.addAllowButton,w.prototype.addButtonEventHandler=w.prototype.addButtonEventHandler,w.prototype.addButtonEventListener=w.prototype.addButtonEventHandler,w.prototype.addDenyButton=w.prototype.addDenyButton,w.prototype.addEventHandler=w.prototype.addEventHandler,w.prototype.addEventListener=w.prototype.addEventHandler,w.prototype.addMovieEventHandler=w.prototype.addMovieEventHandler,w.prototype.addMovieEventListener=w.prototype.addMovieEventHandler,w.prototype.clearAllowButton=w.prototype.clearAllowButton,w.prototype.clearButtonEventHandler=w.prototype.clearButtonEventHandler,w.prototype.clearButtonEventListener=w.prototype.clearButtonEventHandler,w.prototype.clearDenyButton=w.prototype.clearDenyButton,w.prototype.clearEventHandler=w.prototype.clearEventHandler,w.prototype.clearEventListener=w.prototype.clearEventHandler,w.prototype.clearMovieEventHandler=w.prototype.clearMovieEventHandler,w.prototype.clearMovieEventListener=w.prototype.clearMovieEventHandler,w.prototype.denyAllButtons=w.prototype.denyAllButtons,w.prototype.destroy=w.prototype.destroy,w.prototype.dispatchEvent=w.prototype.dispatchEvent,w.prototype.exec=w.prototype.exec,w.prototype.fitForHeight=w.prototype.fitForHeight,w.prototype.fitForWidth=w.prototype.fitForWidth,w.prototype.forceExec=w.prototype.forceExec,w.prototype.forceExecWithoutProgress=w.prototype.forceExecWithoutProgress,w.prototype.getStageSize=w.prototype.getStageSize,w.prototype.getStringId=w.prototype.getStringId,w.prototype.init=w.prototype.init,w.prototype.inputKeyPress=w.prototype.inputKeyPress,w.prototype.inputPoint=w.prototype.inputPoint,w.prototype.inputPress=w.prototype.inputPress,w.prototype.inputRelease=w.prototype.inputRelease,w.prototype.inspect=w.prototype.inspect,w.prototype.removeAllowButton=w.prototype.removeAllowButton,w.prototype.removeButtonEventHandler=w.prototype.removeButtonEventHandler,w.prototype.removeButtonEventListener=w.prototype.removeButtonEventHandler,w.prototype.removeDenyButton=w.prototype.removeDenyButton,w.prototype.removeEventHandler=w.prototype.removeEventHandler,w.prototype.removeEventListener=w.prototype.removeEventHandler,w.prototype.removeMovieEventHandler=w.prototype.removeMovieEventHandler,w.prototype.removeMovieEventListener=w.prototype.removeMovieEventHandler,w.prototype.render=w.prototype.render,w.prototype.scaleForHeight=w.prototype.scaleForHeight,w.prototype.scaleForWidth=w.prototype.scaleForWidth,w.prototype.searchAttachedLWF=w.prototype.searchAttachedLWF,w.prototype.searchAttachedMovie=w.prototype.searchAttachedMovie,w.prototype.searchEventId=w.prototype.searchEventId,w.prototype.searchFrame=w.prototype.searchFrame,w.prototype.searchProgramObjectId=w.prototype.searchProgramObjectId,w.prototype.setButtonEventHandler=w.prototype.setButtonEventHandler,w.prototype.setButtonEventListener=w.prototype.setButtonEventHandler,w.prototype.setEventHandler=w.prototype.setEventHandler,w.prototype.setEventListener=w.prototype.setEventHandler,w.prototype.setFrameRate=w.prototype.setFrameRate,w.prototype.setMovieCommand=w.prototype.setMovieCommand,w.prototype.setMovieEventHandler=w.prototype.setMovieEventHandler,w.prototype.setMovieEventListener=w.prototype.setMovieEventHandler,w.prototype.setPreferredFrameRate=w.prototype.setPreferredFrameRate,w.prototype.setProgramObjectConstructor=w.prototype.setProgramObjectConstructor,w.prototype.setRendererFactory=w.prototype.setRendererFactory,z.load=z.load,Y.prototype.check=Y.prototype.check,Y.prototype.name=Y.prototype.name,I.prototype.getFullName=I.prototype.getFullName,i.prototype.addEventHandler=i.prototype.addEventHandler,i.prototype.addEventListener=i.prototype.addEventHandler,i.prototype.clearEventHandler=i.prototype.clearEventHandler,i.prototype.clearEventListener=i.prototype.clearEventHandler,i.prototype.dispatchEvent=i.prototype.dispatchEvent,i.prototype.removeEventHandler=i.prototype.removeEventHandler,i.prototype.removeEventListener=i.prototype.removeEventHandler,i.prototype.setEventHandler=i.prototype.setEventHandler,i.prototype.setEventListener=i.prototype.setEventHandler,x.prototype.addEventHandler=x.prototype.addEventHandler,x.prototype.addEventListener=x.prototype.addEventHandler,x.prototype.attachLWF=x.prototype.attachLWF,x.prototype.attachMovie=x.prototype.attachMovie,x.prototype.clearEventHandler=x.prototype.clearEventHandler,x.prototype.clearEventListener=x.prototype.clearEventHandler,x.prototype.detachFromParent=x.prototype.detachFromParent,x.prototype.detachLWF=x.prototype.detachLWF,x.prototype.detachMovie=x.prototype.detachMovie,x.prototype.dispatchEvent=x.prototype.dispatchEvent,x.prototype.getAttachedLWF=x.prototype.getAttachedLWF,x.prototype.getAttachedMovie=x.prototype.getAttachedMovie,x.prototype.getBounds=x.prototype.getBounds,x.prototype.globalToLocal=x.prototype.globalToLocal,x.prototype.gotoAndPlay=x.prototype.gotoAndPlay,x.prototype.gotoAndStop=x.prototype.gotoAndStop,x.prototype.gotoFrame=x.prototype.gotoFrame,x.prototype.gotoLabel=x.prototype.gotoLabel,x.prototype.inspect=x.prototype.inspect,x.prototype.localToGlobal=x.prototype.localToGlobal,x.prototype.move=x.prototype.move,x.prototype.moveTo=x.prototype.moveTo,x.prototype.nextFrame=x.prototype.nextFrame,x.prototype.override=x.prototype.override,x.prototype.play=x.prototype.play,x.prototype.prevFrame=x.prototype.prevFrame,x.prototype.removeEventHandler=x.prototype.removeEventHandler,x.prototype.removeEventListener=x.prototype.removeEventHandler,x.prototype.removeMovieClip=x.prototype.removeMovieClip,x.prototype.requestCalculateBounds=x.prototype.requestCalculateBounds,x.prototype.rotate=x.prototype.rotate,x.prototype.rotateTo=x.prototype.rotateTo,x.prototype.scale=x.prototype.scale,x.prototype.scaleTo=x.prototype.scaleTo,x.prototype.searchAttachedLWF=x.prototype.searchAttachedLWF,x.prototype.searchAttachedMovie=x.prototype.searchAttachedMovie,x.prototype.searchMovieInstance=x.prototype.searchMovieInstance,x.prototype.searchMovieInstanceByInstanceId=x.prototype.searchMovieInstanceByInstanceId,x.prototype.setAlpha=x.prototype.setAlpha,x.prototype.setColorTransform=x.prototype.setColorTransform,x.prototype.setEventHandler=x.prototype.setEventHandler,x.prototype.setEventListener=x.prototype.setEventHandler,x.prototype.setMatrix=x.prototype.setMatrix,x.prototype.setRenderingOffset=x.prototype.setRenderingOffset,x.prototype.setVisible=x.prototype.setVisible,x.prototype.stop=x.prototype.stop,x.prototype.swapAttachedLWFDepth=x.prototype.swapAttachedLWFDepth,x.prototype.swapAttachedMovieDepth=x.prototype.swapAttachedMovieDepth,x.prototype.swapDepths=x.prototype.swapDepths,se.prototype.clear=se.prototype.clear,se.prototype.move=se.prototype.move,se.prototype.moveTo=se.prototype.moveTo,se.prototype.rotate=se.prototype.rotate,se.prototype.rotateTo=se.prototype.rotateTo,se.prototype.scale=se.prototype.scale,se.prototype.scaleTo=se.prototype.scaleTo,se.prototype.setAlpha=se.prototype.setAlpha,se.prototype.setColorTransform=se.prototype.setColorTransform,se.prototype.setMatrix=se.prototype.setMatrix,O.prototype.clear=O.prototype.clear,O.prototype.set=O.prototype.set,k.prototype.set=k.prototype.set,R.prototype.clear=R.prototype.clear,R.prototype.set=R.prototype.set;
var pe=function(t,e){this.factory=t,this.node=e,this.node.style.position="absolute",this.node.style.webkitTransformOrigin="0px 0px",this.node.style.display="block",this.factory.stage.parentNode.appendChild(this.node),this.matrix=new O(0,0,0,0,0,0),this.zIndex=this.alpha=-1,this.visible=!0};pe.prototype.destruct=function(){this.factory.stage.parentNode.removeChild(this.node)},pe.prototype.update=function(){},pe.prototype.render=function(t,e,r,n,i){if(this.visible===i){if(!1===i)return}else{if(this.visible=i,!1===i)return this.node.style.visibility="hidden",void 0;this.node.style.visibility="visible"}(this.matrix.setWithComparing(t)||this.alpha!==e.multi.alpha||this.zIndex!==r)&&(this.alpha=e.multi.alpha,this.zIndex=r,e=this.node.style,e.zIndex=this.zIndex,e.opacity=this.alpha,t=this.matrix,e.webkitTransform=this.use3D?"matrix3d("+(""+t.scaleX+","+t.skew1+",0,0,")+(""+t.skew0+","+t.scaleY+",0,0,")+"0,0,1,0,"+(""+t.translateX+","+t.translateY+",0,1)"):"matrix("+(""+t.scaleX+","+t.skew1+","+t.skew0+","+t.scaleY+",")+(""+t.translateX+","+t.translateY+")"))};var de,fe=function(){this.cache={},this.lwfInstanceIndex=0};de=null,fe.get=function(){return null!=de?de:de=new this},fe.prototype.clear=function(){var t,e,r,n,i;n=this.cache;for(e in n)for(r in t=n[e],i=t.instances)t=i[r],t.destroy();return this.cache={}},fe.prototype.getTextureURL=function(t,e,r){var n,i,s;return e=null!=(i=null!=(s=t.imagePrefix)?s:t.prefix)?i:"",i=null!=(n=t.imageSuffix)?n:"",n=t.imageMap,r=r.filename,"function"==typeof n?(t=n.call(t,r),null!=t&&(r=t)):"object"==typeof n&&(t=n[r],null!=t&&(r=t)),r.match(/^\//)||(r=e+r),r=r.replace(/(\.png|\.jpg)/i,i+"$1")},fe.prototype.checkTextures=function(t,e){var r,n,i,s,a,o,l,h,c,u,p,d,f,y,m,g,v,I,w,M,x,b;for(t._alphaMap={},t._colorMap={},t._textures=[],h=/_atlas_(.*)_info_([0-9])_([0-9]+)_([0-9]+)_([0-9]+)_([0-9]+)_([0-9]+)_([0-9]+)/i,p=/(.*)_rgb_([0-9a-f]{6})(.*)$/i,d=/(.*)_rgb_([0-9]*),([0-9]*),([0-9]*)(.*)$/i,f=/(.*)_rgba_([0-9a-f]{8})(.*)$/i,y=/(.*)_rgba_([0-9]*),([0-9]*),([0-9]*),([0-9]*)(.*)$/i,c=/(.*)_add_([0-9a-f]{6})(.*)$/i,u=/(.*)_add_([0-9]*),([0-9]*),([0-9]*)(.*)$/i,b=e.textures,M=0,x=b.length;x>M;M++)m=b[M],o=null,null!=(r=m.filename.match(p))?(o=r[1]+r[3],i="rgb",n=r[2]):null!=(r=m.filename.match(d))?(o=r[1]+r[5],i="rgb",l=parseInt(r[2],10).toString(16),s=parseInt(r[3],10).toString(16),n=parseInt(r[4],10).toString(16),n=(1===l.length?"0":"")+l+(1===s.length?"0":"")+s+(1===n.length?"0":"")+n):null!=(r=m.filename.match(f))?(o=r[1]+r[3],i="rgba",n=r[2]):null!=(r=m.filename.match(y))?(o=r[1]+r[6],i="rgba",l=parseInt(r[2],10).toString(16),s=parseInt(r[3],10).toString(16),n=parseInt(r[4],10).toString(16),r=parseInt(r[5],10).toString(16),n=(1===l.length?"0":"")+l+(1===s.length?"0":"")+s+(1===n.length?"0":"")+n+(1===r.length?"0":"")+r):null!=(r=m.filename.match(c))?(o=r[1]+r[3],i="add",n=r[2]):null!=(r=m.filename.match(u))&&(o=r[1]+r[5],i="add",l=parseInt(r[2],10).toString(16),s=parseInt(r[3],10).toString(16),n=parseInt(r[4],10).toString(16),n=(1===l.length?"0":"")+l+(1===s.length?"0":"")+s+(1===n.length?"0":"")+n),null!=o?(a=m.filename.match(h),null!=a?(o=a[1],r="1"===a[2]?!0:!1,l=parseInt(a[3],10),g=parseInt(a[4],10),v=parseInt(a[5],10),s=parseInt(a[6],10),I=parseInt(a[7],10),a=parseInt(a[8],10)):(r=!1,g=l=0,s=v=null,a=I=0),null==(w=t._colorMap)[o]&&(w[o]=[]),t._colorMap[o].push({filename:m.filename,colorOp:i,colorValue:n,rotated:r,u:l,v:g,w:v,h:s,x:I,y:a})):(t._textures.push(m),r=m.filename.match(/^(.*)_withalpha(.*\.)jpg(.*)$/i),null!=r&&(o=""+r[1]+"_alpha"+r[2]+"png"+r[3],o=new H.TextureReplacement(o),t._textures.push(o),t._alphaMap[m.filename]=[m,o],t._alphaMap[o.filename]=[m,o]))},fe.prototype.onloaddata=function(t,e,r){null!=e&&e.check()?(t.name=e.name(),this.checkTextures(t,e),r=t.lwf,this.cache[r].data=e,t.total=t._textures.length+1,e.useScript&&t.total++,t.loadedCount=1,null!=t.onprogress&&t.onprogress.call(t,t.loadedCount,t.total),e.useScript?this.loadJS(t,e):this.loadImages(t,e)):(t.error.push({url:r,reason:"dataError"}),t.onload.call(t,null))},fe.prototype.loadLWF=function(t){var e,r,n;return n=r=t.lwf,n.match(/^\//)||(n=(null!=(e=t.prefix)?e:"")+n),t.error=[],null!=this.cache[r]&&(e=this.cache[r].data,null!=e)?(t.name=e.name(),this.checkTextures(t,e),t.total=t._textures.length+1,t.loadedCount=1,"undefined"!=typeof onprogress&&null!==onprogress&&onprogress.call(t,t.loadedCount,t.total),this.loadImages(t,e),void 0):(this.cache[r]={},this.loadLWFData(t,n),void 0)},fe.prototype.dispatchOnloaddata=function(t,e,r,n,i,s){var a,o,l,h,c,u=this;if(r){for(l=null,o=document.getElementsByTagName("script"),r=/(^|.*\/lwf_cocos2d.js)$/i,a=h=0,c=o.length;c>=0?c>h:h>c;a=c>=0?++h:--h)if(""!==o[a].src&&(a=o[a].src.split("?")[0],a=a.match(r),null!=a)){l=a[1];break}if(null!=l){var p,d=l;p=new Worker(d),p.onmessage=function(r){return s=new Y(r.data),p=p.onmessage=p.onerror=null,u.onloaddata(t,s,e)},p.onerror=function(){return t.error.push({url:d,reason:"error"}),p=p.onmessage=p.onerror=null,t.onload.call(t,null)},i&&"base64"!==s.type?p.webkitPostMessage(s.data):p.postMessage(s.data)}}null==l&&("base64"===s.type?(s=global.LWF.Base64.atobArray(s.data),s=new global.LWF.Zlib.Inflate(s).decompress(),s=z.loadArray(s)):s=n?z.loadArrayBuffer(s.data):z.load(s.data),this.onloaddata(t,s,e))},fe.prototype.loadLWFData=function(t,e){var r,n,i,s,a,o,l,h,c,u,p=this;s=t.onload,h=l=!1,"undefined"==typeof Worker||null!=t.worker&&!t.worker||(l=!0,Worker.prototype.webkitPostMessage!==void 0&&(h=!0)),n=e.match(/([^\/]+)\.lwf\.js/i),null!=n?(i=n[1].toLowerCase(),r=document.getElementsByTagName("head")[0],a=document.createElement("script"),a.type="text/javascript",a.charset="UTF-8",a.onabort=function(){return t.error.push({url:e,reason:"abort"}),r.removeChild(a),a=a.onload=a.onabort=a.onerror=null,s.call(t,null)},a.onerror=function(){return t.error.push({url:e,reason:"error"}),r.removeChild(a),a=a.onload=a.onabort=a.onerror=null,s.call(t,null)},a.onload=function(){var n,c,u;return n=null!=(c=global.LWF)?null!=(u=c.DataScript)?u[i]:void 0:void 0,r.removeChild(a),a=a.onload=a.onabort=a.onerror=null,null!=n?(n={type:"base64",data:n},p.dispatchOnloaddata(t,e,l,o,h,n)):(t.error.push({url:e,reason:"error"}),s.call(t,null))},a.src=e,r.appendChild(a),n=t.lwf,null==(u=this.cache[n]).scripts&&(u.scripts=[]),this.cache[n].scripts.push(a)):(c=new XMLHttpRequest,c.open("GET",e,!0),"string"!=typeof c.responseType||"undefined"==typeof Uint8Array||"undefined"==typeof Int32Array||"undefined"==typeof Float32Array||l&&!h?(o=!1,c.overrideMimeType("text/plain; charset=x-user-defined")):(o=!0,c.responseType="arraybuffer"),c.onabort=function(){return t.error.push({url:e,reason:"abort"}),c=c.onabort=c.onerror=c.onreadystatechange=null,s.call(t,null)},c.onerror=function(){return t.error.push({url:e,reason:"error"}),c=c.onabort=c.onerror=c.onreadystatechange=null,s.call(t,null)},c.onreadystatechange=function(){var r;if(4===c.readyState){if(0===c.status||c.status>=200&&300>c.status)return r=o?{type:"arraybuffer",data:c.response}:{type:"text",data:c.responseText},p.dispatchOnloaddata(t,e,l,o,h,r),c=c.onabort=c.onerror=c.onreadystatechange=null;t.error.push({url:e,reason:"error"}),c=c.onabort=c.onerror=c.onreadystatechange=null,s.call(t,null)}},c.send(null))},fe.prototype.loadJS=function(t,e){var r,n,i,s,a,o,l,h=this;r=t.lwf,a=null!=(o=t.js)?o:r.replace(/\.lwf(\.js)?/i,".js"),a.match(/^\//)||(a=(null!=(l=t.prefix)?l:"")+a),n=t.onload,i=t.onprogress,s=document.createElement("script"),s.type="text/javascript",s.charset="UTF-8",s.onabort=function(){return delete h.cache[r],t.error.push({url:a,reason:"abort"}),s=s.onload=s.onabort=s.onerror=null,n.call(t,null)},s.onerror=function(){return delete h.cache[r],t.error.push({url:a,reason:"error"}),s=s.onload=s.onabort=s.onerror=null,n.call(t,null)},s.onload=function(){return t.loadedCount++,null!=i&&i.call(t,t.loadedCount,t.total),s=s.onload=s.onabort=s.onerror=null,h.loadImages(t,e)},s.src=a,document.getElementsByTagName("head")[0].appendChild(s),null==(o=this.cache[r]).scripts&&(o.scripts=[]),this.cache[r].scripts.push(s)},fe.prototype.loadImagesCallback=function(t,e,r){t.loadedCount++,null!=t.onprogress&&t.onprogress.call(t,t.loadedCount,t.total),t.loadedCount===t.total&&(delete t._alphaMap,delete t._colorMap,delete t._textures,t.error.length>0?(delete this.cache[t.lwf],t.onload.call(t,null)):this.newLWF(t,e,r))},fe.prototype.drawImage=function(t,e,r,n,i,s,a,o,l,h){r.rotated?(r=new O,K.rotateMatrix(r,new O,1,n,i+o),t.setTransform(r.scaleX,r.skew1,r.skew0,r.scaleY,r.translateX,r.translateY)):(0!==n||0!==i)&&(r=new O,K.scaleMatrix(r,new O,1,n,i),t.setTransform(r.scaleX,r.skew1,r.skew0,r.scaleY,r.translateX,r.translateY)),t.drawImage(e,s,a,l,h,0,0,l,h)},fe.prototype.createCanvas=function(t,e,r){var n;return this.constructor===fe?(n="canvas_"+t.replace(/[\.,-]/g,"_"),e=document.getCSSCanvasContext("2d",n,e,r),t=e.canvas,t.name=n):(t=document.createElement("canvas"),t.width=e,t.height=r,e=t.getContext("2d")),[t,e]},fe.prototype.generateImages=function(t,e,r,n){var i,s,a,o,l,h,c,u,p,d,f,y,m,g,v,I,w,M;if(h=t._colorMap[r.filename],null!=h)for(f=n.width/r.width,v=0,I=h.length;I>v;v++){switch(p=h[v],m=Math.round(p.x*f),g=Math.round(p.y*f),d=Math.round(p.u*f),i=Math.round(p.v*f),y=Math.round((null!=(w=p.w)?w:r.width)*f),u=Math.round((null!=(M=p.h)?M:r.height)*f),p.rotated?(c=u,s=y):(c=y,s=u),o=this.createCanvas(p.filename,y,u),t=o[0],o=o[1],p.colorOp){case"rgb":o.fillStyle="#"+p.colorValue,o.fillRect(0,0,y,u),o.globalCompositeOperation="destination-in",this.drawImage(o,n,p,m,g,d,i,u,c,s);break;case"rgba":this.drawImage(o,n,p,m,g,d,i,u,c,s),o.globalCompositeOperation="source-atop",i=p.colorValue,d=parseInt(i.substr(0,2),16),c=parseInt(i.substr(2,2),16),s=parseInt(i.substr(4,2),16),i=parseInt(i.substr(6,2),16)/255,o.fillStyle="rgba("+d+", "+c+", "+s+", "+i+")",o.fillRect(0,0,y,u);break;case"add":a=document.createElement("canvas"),a.width=y,a.height=u,l=a.getContext("2d"),l.fillStyle="#"+p.colorValue,l.fillRect(0,0,y,u),l.globalCompositeOperation="destination-in",this.drawImage(l,n,p,m,g,d,i,u,c,s),this.drawImage(o,n,p,m,g,d,i,u,c,s),o.globalCompositeOperation="lighter",o.drawImage(a,0,0,a.width,a.height,0,0,a.width,a.height)}o.globalCompositeOperation="source-over",e[p.filename]=t}},fe.prototype.loadImages=function(t,e){var r,n,i,s,a,o,l,h=this;if(r={},0===e.textures.length)this.newLWF(t,r,e);else for(l=t._textures,s=function(n,i){var s;return s=new Image,s.onabort=function(){return t.error.push({url:i,reason:"abort"}),s=s.onload=s.onabort=s.onerror=null,h.loadImagesCallback(t,r,e)},s.onerror=function(){return t.error.push({url:i,reason:"error"}),s=s.onload=s.onabort=s.onerror=null,h.loadImagesCallback(t,r,e)},s.onload=function(){var i,a,o,l,c,u;return r[n.filename]=s,i=t._alphaMap[n.filename],null!=i?(c=i[0],i=i[1],u=r[c.filename],a=r[i.filename],null!=u&&null!=a&&(l=h.createCanvas(c.filename,u.width,u.height),o=l[0],l=l[1],l.drawImage(u,0,0,u.width,u.height,0,0,u.width,u.height),l.globalCompositeOperation="destination-in",l.drawImage(a,0,0,a.width,a.height,0,0,u.width,u.height),l.globalCompositeOperation="source-over",delete r[c.filename],delete r[i.filename],r[c.filename]=o,h.generateImages(t,r,c,o))):h.generateImages(t,r,n,s),s=s.onload=s.onabort=s.onerror=null,h.loadImagesCallback(t,r,e)},s.src=i},a=0,o=l.length;o>a;a++)n=l[a],i=this.getTextureURL(t,e,n),s(n,i)},fe.prototype.newFactory=function(t,e,r){var n,i;return new WebkitCSSRendererFactory(r,this,e,t.stage,null!=(n=t.textInSubpixel)?n:!1,null!=(i=t.use3D)?i:!0)},fe.prototype.onloadLWF=function(t,e){var r;r=e.rendererFactory,null!=t.setBackgroundColor?r.setBackgroundColor(t.setBackgroundColor):t.useBackgroundColor&&r.setBackgroundColor(e),t.fitForHeight?r.fitForHeight(e):t.fitForWidth&&r.fitForWidth(e),t.onload.call(t,e)},fe.prototype.newLWF=function(t,e,r){var n,i,s,a;n=this.cache[t.lwf],e=this.newFactory(t,e,r),r.useScript&&(i=null!=(s=global.LWF)?null!=(a=s.Script)?a[r.name()]:void 0:void 0),r=new w(r,e,i,t.privateData),r.url=t.lwf,r.lwfInstanceId=++this.lwfInstanceIndex,null==n.instances&&(n.instances={}),n.instances[r.lwfInstanceId]=r,n=t.parentLWF,null!=n&&(n.loadedLWFs[r.lwfInstanceId]=r),null!=t.preferredFrameRate&&(null!=t.execLimit?r.setPreferredFrameRate(t.preferredFrameRate,t.execLimit):r.setPreferredFrameRate(t.preferredFrameRate)),this.onloadLWF(t,r)},fe.prototype.unloadLWF=function(t){var e,r,n,i,s,a,o,l,h;if(e=this.cache[t.url],null!=e){t.lwfInstanceId&&delete e.instances[t.lwfInstanceId],r=!0,l=e.instances;for(i in l){r=!1;break}if(r){try{for(n=document.getElementsByTagName("head")[0],h=e.scripts,a=0,o=h.length;o>a;a++)s=h[a],n.removeChild(s)}catch(c){}delete this.cache[t.url]}}},fe.prototype.loadLWFs=function(t,e){var r,n,i,s,a,o,l,h,c;for(n=t.length,i=0,r=null,o=function(t){return a.onload=function(s){return null!=t&&t(s),a.error.length>0&&(null==r&&(r=[]),r=r.concat(a.error)),++i,n===i?e(r):void 0}},c=[],l=0,h=t.length;h>l;l++)a=t[l],s=a.onload,o(s),c.push(this.loadLWF(a));return c},fe.prototype.getCache=function(){return this.cache},fe.prototype.setParticleConstructor=function(t){this.particleConstructor=t},fe.prototype.setDOMElementConstructor=function(t){this.domElementConstructor=t},"undefined"!=typeof window&&null!==window||"undefined"==typeof self||null===self||(self.onmessage=function(t){return self.webkitPostMessage!==void 0&&"object"==typeof t.data?(t=z.loadArrayBuffer(t.data),self.webkitPostMessage(t)):(t=t.data,"L"===t[0]&&"W"===t[1]&&"F"===t[2]?t=z.load(t):(t=global.LWF.Base64.atobArray(t),t=new global.LWF.Zlib.Inflate(t).decompress(),t=z.loadArray(t)),self.webkitPostMessage!==void 0?self.webkitPostMessage(t):self.postMessage(t)),self.close()});var ye=function(t,e,r,n){var i,s;for(this.resourceCache=e,this.cache=r,this.textInSubpixel=n,this.bitmapContexts=[],s=t.bitmaps,n=0,i=s.length;i>n;n++)r=s[n],-1!==r.textureFragmentId&&(e=new H.BitmapEx,e.matrixId=r.matrixId,e.textureFragmentId=r.textureFragmentId,e.u=0,e.v=0,e.w=1,e.h=1,this.bitmapContexts.push(new o(this,t,e)));for(this.bitmapExContexts=[],i=t.bitmapExs,r=0,n=i.length;n>r;r++)e=i[r],-1!==e.textureFragmentId&&this.bitmapExContexts.push(new o(this,t,e));for(this.textContexts=[],i=t.texts,r=0,n=i.length;n>r;r++)e=i[r],this.textContexts.push(new p(this,t,e));for(this.particleContexts=[],i=t.particles,r=0,n=i.length;n>r;r++)e=i[r],this.particleContexts.push(new h(this,t,e));this.lwfNode=null};ye.prototype.destruct=function(){var t,e,r,n;for(n=this.bitmapContexts,e=0,r=n.length;r>e;e++)t=n[e],t.destruct();for(n=this.bitmapExContexts,e=0,r=n.length;r>e;e++)t=n[e],t.destruct();for(n=this.textContexts,e=0,r=n.length;r>e;e++)t=n[e],t.destruct()},ye.prototype.init=function(t){var e,r,n,i,s,a,o=this;if(!this.setupedDomElementConstructor){for(this.setupedDomElementConstructor=!0,s=t.data.programObjects,a=[],n=0,i=s.length;i>n;n++)e=s[n],r=t.data.strings[e.stringId],e=r.match(/^DOM_(.*)/),null!=e?(e=e[1],a.push(function(e){return t.setProgramObjectConstructor(r,function(t,r,n,i){return r=o.resourceCache.domElementConstructor,null==r?null:(t=r(t,e,n,i),null==t?null:new pe(o,t))})}(e))):a.push(void 0);return a}},ye.prototype.beginRender=function(){},ye.prototype.endRender=function(){},ye.prototype.setBlendMode=function(){},ye.prototype.setMaskMode=function(){},ye.prototype.constructBitmap=function(t,e){var r;return(r=this.bitmapContexts[e])?new l(r):void 0},ye.prototype.constructBitmapEx=function(t,e){var r;return(r=this.bitmapExContexts[e])?new l(r):void 0},ye.prototype.constructText=function(t,e,r){return(e=this.textContexts[e])?new d(t,e,r):void 0},ye.prototype.constructParticle=function(t,e){var r;return(r=this.particleContexts[e])?new c(r):void 0},ye.prototype.convertColor=function(t,e,r){K.calcColor(t,e,r),t.red=Math.round(255*t.red),t.green=Math.round(255*t.green),t.blue=Math.round(255*t.blue),t.alpha=Math.round(255*t.alpha)},ye.prototype.getSize=function(){var t,e;return null!=this.lwfNode&&(t=this.lwfNode.getContentSize(),e=t.width,t=t.height),0===e&&0===t&&(t=cc.Director.getInstance().winSizeInPixels!==void 0?cc.Director.getInstance().winSizeInPixels():cc.Director.getInstance().getWinSizeInPixels(),e=t.width,t=t.height),[e,t]},ye.prototype.fitForHeight=function(t){var e,r;e=this.getSize(),r=e[0],e=e[1],0!==e&&e!==t.data.header.height&&t.fitForHeight(r,e)},ye.prototype.fitForWidth=function(t){var e,r;e=this.getSize(),r=e[0],e=e[1],0!==r&&r!==t.data.header.width&&t.fitForWidth(r,e)},ye.prototype.scaleForHeight=function(t){var e,r;e=this.getSize(),r=e[0],e=e[1],0!==e&&e!==t.data.header.height&&t.scaleForHeight(r,e)},ye.prototype.scaleForWidth=function(t){var e,r;e=this.getSize(),r=e[0],e=e[1],0!==r&&r!==t.data.header.width&&t.scaleForWidth(r,e)},ye.prototype.setBackgroundColor=function(t){"number"!=typeof t&&"string"==typeof t&&parseInt(t,16)},I=function(t,e,r){this.factory=t,this.data=e,this.fragment=e.textureFragments[r.textureFragmentId],e=e.textures[this.fragment.textureId],t=this.factory.cache[e.filename],this.texture2d=cc.TextureCache.getInstance().textureForKey(t),t=this.texture2d.getPixelsWide!==void 0?this.texture2d.getPixelsWide()/e.width:this.texture2d.width/e.width,this.scale=1/(e.scale*t),this.fragment.rotated?(r=this.fragment.h,e=this.fragment.w):(r=this.fragment.w,e=this.fragment.h),this.imageHeight=this.fragment.h*t,this.rect=cc.rect(this.fragment.u,this.fragment.v,r,e)},I.prototype.destruct=function(){},o=I,I=function(t){this.context=t,t=this.context.fragment,this.matrix=new O(0,0,0,0,0,0),(t.rotated||0!==t.x||0!==t.y||1!==this.context.scale)&&(this.matrixForAtlas=new O),this.bitmap=cc.LWFBitmap.lwfBitmapWithTexture(this.context.texture2d,this.context.rect),this.visible=!0,this.alpha=1,this.z=-1},I.prototype.destruct=function(){return this.bitmap.removeFromParentAndCleanup(!0)},I.prototype.render=function(t,e,r,n,i){var s,a;return this.z!==r&&(-1===this.z?this.context.factory.lwfNode.addChild(this.bitmap,r):this.bitmap.getParent().reorderChild(this.bitmap,r),this.z=r),this.matrix.setWithComparing(t)&&(t=this.matrix,r=this.context.fragment,s=r.x,a=r.y,n=this.context.scale,r.rotated?t=K.rotateMatrix(this.matrixForAtlas,t,n,s,a+r.h):(1!==n||0!==s||0!==a)&&(t=K.scaleMatrix(this.matrixForAtlas,t,n,s,a)),this.bitmap.setMatrix(t)),this.alpha!==e.multi.alpha||this.visible!==i?(this.alpha=e.multi.alpha,this.visible=i,this.bitmap.setOpacity(this.visible?255*this.alpha:0)):void 0},l=I,I=function(t,e,r){this.factory=t,this.data=e,this.text=r,this.str=this.data.strings[this.text.stringId],this.textProperty=this.data.textProperties[this.text.textPropertyId],t=this.data.fonts[this.textProperty.fontId],this.textColor=this.data.colors[this.text.colorId],this.name=this.data.strings[this.text.nameStringId],this.fontName='"'+this.data.strings[t.stringId]+'",sans-serif'},I.prototype.destruct=function(){},p=I,I=function(e,r,n){var i;switch(this.lwf=e,this.context=r,this.textObject=n,this.str=null!=(i=this.textObject.parent[this.context.name])?i:this.context.str,null!=this.str&&(this.str=this.str+""),this.matrix=new O(0,0,0,0,0,0),this.matrixForScale=new O,this.color=new k,this.color3B=cc.c3b(),this.context.textProperty.align&t.ALIGN_MASK){case t.RIGHT:e=cc.TEXT_ALIGNMENT_RIGHT;break;case t.CENTER:e=cc.TEXT_ALIGNMENT_CENTER;break;default:e=cc.TEXT_ALIGNMENT_LEFT}switch(this.context.textProperty.align&t.VERTICAL_MASK){case t.VERTICAL_BOTTOM:n=cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM;break;case t.VERTICAL_MIDDLE:n=cc.VERTICAL_TEXT_ALIGNMENT_CENTER;break;default:n=cc.VERTICAL_TEXT_ALIGNMENT_TOP}r=this.lwf.scaleByStage,this.label=cc.LWFLabel.create("",this.context.fontName,this.context.textProperty.fontHeight*r,cc.size(this.context.text.width*r,this.context.text.height*r),e,n),this.z=-1,this.textRendered=!1},I.prototype.destruct=function(){this.label.removeFromParentAndCleanup(!0)},I.prototype.render=function(t,e,r,n,i){var s,a;i?(this.z!==r&&(-1===this.z?this.context.factory.lwfNode.addChild(this.label,r):this.label.getParent().reorderChild(this.label,r),this.z=r),a=this.color.red,s=this.color.green,i=this.color.blue,this.context.factory.convertColor(this.color,this.context.textColor,e),e=this.color3B,e.r=this.color.red,e.g=this.color.green,e.b=this.color.blue,n=this.color.alpha,r=!1,(a!==this.color.red||s!==this.color.green||i!==this.color.blue||n!==this.color.alpha)&&(this.label.setOpacity(n),r=!0),i=!1,n=this.textObject.parent[this.context.name],null!=n&&(n+=""),null!=n&&n!==this.str&&(i=!0,this.str=n),(!this.textRendered||r||i)&&this.renderText(e),this.matrix.setWithComparing(t)&&(t=K.scaleMatrix(this.matrixForScale,this.matrix,1/this.lwf.scaleByStage,0,0),this.context.factory.textInSubpixel||(t.translateX=Math.round(t.translateX),t.translateY=Math.round(t.translateY)),this.label.setMatrix(t))):this.label.setOpacity(0)},I.prototype.renderText=function(t){this.textRendered=!0,this.label.setColor(t),this.label.setString(this.str)},d=I,I=function(t,e,r){this.factory=t,this.data=e,this.name=e.strings[e.particleDatas[r.particleDataId].stringId],this.plist=this.factory.resourceCache.particlePrefix+this.name+this.factory.resourceCache.particleSuffix},I.prototype.destruct=function(){},h=I,I=function(t){this.context=t,this.matrix=new O,this.particle=cc.LWFParticle.create(this.context.plist),this.visible=!0,this.alpha=1,this.z=-1},I.prototype.destruct=function(){return this.particle.removeFromParentAndCleanup(!0)},I.prototype.update=function(){},I.prototype.render=function(t,e,r,n,i){return this.z!==r&&(-1===this.z?this.context.factory.lwfNode.addChild(this.particle,r):this.particle.getParent().reorderChild(this.particle,r),this.z=r),this.matrix.setWithComparing(t)&&this.particle.setMatrix(this.matrix),this.alpha!==e.multi.alpha||this.visible!==i?(this.alpha=e.multi.alpha,this.visible=i,this.particle.setOpacity(this.visible?255*this.alpha:0)):void 0},c=I;var me=function(){me.__super__.constructor.apply(this,arguments),this.particlePrefix="res/",this.particleSuffix=".plist"};u(me,fe),me.prototype.loadLWFNode=function(t){t._loadLWF=!0,this.loadLWF(t)},me.prototype.loadLWFNodes=function(t,e){var r,n,i;for(n=0,i=t.length;i>n;n++)r=t[n],r._loadLWF=!0;this.loadLWFs(t,e)},me.prototype.newFactory=function(t,e,r){var n;return new ye(r,this,e,null!=(n=t.textInSubpixel)?n:!1)},me.prototype.loadLWFData=function(t,e){var r;return"undefined"==typeof XMLHttpRequest?(r=cc.loadFileIntoMemory(cc.FileUtils.sharedFileUtils().fullPathFromRelativePath(e)),r=z.loadArrayBuffer(r),this.onloaddata(t,r,e)):me.__super__.loadLWFData.apply(this,arguments)},me.prototype.onloadLWF=function(t,e){var r,n;null!=t._loadLWF?(n=cc.LWFNode.lwfNodeWithLWF(e),r=t.contentSize,null!=r&&n.setContentSize(r),r=e.rendererFactory,t.fitForHeight?r.fitForHeight(e):t.fitForWidth&&r.fitForWidth(e),delete t._loadLWF,t.onload.call(t,n)):t.onload.call(t,e)},me.prototype.onLoadImage=function(){var t,e,r;this.loadedCount++,null!=this.onprogress&&this.onprogress.call(this,this.loadedCount,this.total),this.loadedCount===this.total&&(t=this._cache,e=this._data,r=this._imageCache,delete this._cache,delete this._data,delete this._imageCache,t.newLWF(this,r,e))},me.prototype.loadImages=function(t,e){var r,n,i,s,a,o,l,h,c,u;for(i=null!=(s=null!=(o=t.imagePrefix)?o:t.prefix)?s:"",s=null!=(r=t.imageSuffix)?r:"",r={},t._cache=this,t._data=e,t._imageCache=r,h=e.textures,o=0,l=h.length;l>o;o++)a=h[o],n=a.filename,a=null!=(c=null!=(u=t.imageMap)?u[n]:void 0)?c:n,a.match(/^\//)||(a=i+a),a=a.replace(/(\.png|\.jpg)$/i,s+"$1"),r[n]=a,n=cc.TextureCache.getInstance(),n.addImageAsync!==void 0?n.addImageAsync(a,t,this.onLoadImage):(n.addImage(a),this.onLoadImage.call(t))},me.prototype.unloadLWF=function(t){var e,r,n;if(me.__super__.unloadLWF.apply(this,arguments),null==this.cache[t.url])for(e in n=t.renderFactory.cache)r=n[e],r.match(/\.(png|jpg)$/i)&&cc.TextureCache.getInstance().removeTextureForKey(r)},me.prototype.setParticlePath=function(t,e){this.particlePrefix=t,this.particleSuffix=e},u=me,"undefined"!=typeof global&&(global.LWF.Cocos2dRendererFactory=ye,global.LWF.Cocos2dResourceCache=u,global.LWF.ResourceCache=u,"undefined"!=typeof cc&&(cc.LWF=global.LWF)),ye.prototype.convertColor=ye.prototype.convertColor,ye.prototype.fitForHeight=ye.prototype.fitForHeight,ye.prototype.fitForWidth=ye.prototype.fitForWidth,ye.prototype.scaleForHeight=ye.prototype.scaleForWidth,ye.prototype.scaleForStage=ye.prototype.scaleForWidth,ye.prototype.setBackgroundColor=ye.prototype.setBackgroundColor,u.prototype.clear=u.prototype.clear,u.prototype.getCache=u.prototype.getCache,u.prototype.loadLWF=u.prototype.loadLWF,u.prototype.loadLWFs=u.prototype.loadLWFs,u.prototype.unloadLWF=u.prototype.unloadLWF,u.prototype.setParticleConstructor=u.prototype.setParticleConstructor,u.prototype.setDOMElementConstructor=u.prototype.setDOMElementConstructor,"undefined"!=typeof cc&&null!==cc&&(cc.LWFBitmap=cc.Sprite.extend({_m_lwf_matrix:null,ctor:function(){return cc.associateWithNative(this,cc.Sprite)},initWithTexture:function(t,e){var r;return r=this._super(t,e),this.setAnchorPoint(cc.p(0,1)),r},setMatrix:function(t){this._super!==void 0?this._super({a:t.scaleX,b:t.skew1,c:t.skew0,d:t.scaleY,tx:t.translateX,ty:t.translateY}):this._m_lwf_matrix=t},transform:function(t){var e;t=null!=t?t:cc.renderContext,e=this._m_lwf_matrix,t.transform(e.scaleX,e.skew1,e.skew0,e.scaleY,e.translateX,e.translateY-cc.canvas.height)}}),cc.LWFBitmap.lwfBitmapWithTexture=function(t,e){var r;return r=new cc.LWFBitmap,r.initWithTexture(t,e)?r:null},cc.LWFLabel=cc.LabelTTF.extend({_m_lwf_matrix:null,ctor:function(){return cc.associateWithNative(this,cc.LabelTTF)},initWithString:function(t){return t=this._super!==void 0?this._super(t):this.initWithStringFontNameFontSize(t[0],t[1],t[2]),this.setAnchorPoint(cc.p(0,1)),t},setMatrix:function(t){this._super!==void 0?this._super({a:t.scaleX,b:t.skew1,c:t.skew0,d:t.scaleY,tx:t.translateX,ty:t.translateY}):this._m_lwf_matrix=t},transform:function(t){var e;t=null!=t?t:cc.renderContext,e=this._m_lwf_matrix,t.transform(e.scaleX,e.skew1,e.skew0,e.scaleY,e.translateX,e.translateY-cc.canvas.height)}}),cc.LWFLabel.create=function(){var t;return t=new cc.LWFLabel,t.initWithString(arguments)?t:null},cc.LWFParticle=cc.ParticleSystem.extend({_m_lwf_matrix:null,ctor:function(){return cc.associateWithNative(this,cc.ParticleSystem)},setMatrix:function(t){this._super!==void 0?this._super({a:t.scaleX,b:t.skew1,c:t.skew0,d:t.scaleY,tx:t.translateX,ty:t.translateY}):this._m_lwf_matrix=t},transform:function(t){var e;t=null!=t?t:cc.renderContext,e=this._m_lwf_matrix,t.transform(e.scaleX,e.skew1,e.skew0,e.scaleY,e.translateX,e.translateY-cc.canvas.height)}}),cc.LWFParticle.create=function(t){var e;return e=new cc.LWFParticle,e.initWithFile(t)?e:null},cc.LWFNode=cc.Node.extend({_m_lwf:null,_m_targetedDelegateAdded:!1,ctor:function(){return cc.associateWithNative(this,cc.Node)},initWithLWF:function(t){return this.init!==void 0&&this.init(),t.rendererFactory.lwfNode=this,this._m_lwf=t,this.scheduleUpdate(),!0},cleanup:function(){this._super(),this._m_lwf.destroy()},getLWF:function(){return this._m_lwf},update:function(t){this._super(t),this._m_lwf.exec(t),this._m_lwf.render()},onEnter:function(){var t;return this._m_lwf.interactive&&(t=cc.Director.getInstance(),t.getTouchDispatcher!==void 0&&(t.getTouchDispatcher().addTargetedDelegate(this,0,!0),this._m_targetedDelegateAdded=!0)),this._super()},onExit:function(){return this._m_targetedDelegateAdded&&cc.Director.getInstance().getTouchDispatcher().removeDelegate(this),this._super()},onTouchBegan:function(t,e){return this.onTouchMoved(t,e),this._m_lwf.inputPress(),!0},onTouchMoved:function(t){t=this.convertTouchToNodeSpace(t),t=cc.Director.getInstance().convertToGL(t),this._m_lwf.inputPoint(t.x,t.y)},onTouchEnded:function(t,e){this.onTouchMoved(t,e),this._m_lwf.inputRelease()}}),cc.LWFNode.lwfNodeWithLWF=function(t){var e;return e=new cc.LWFNode,e.initWithLWF(t)?e:null})}.call(this),function(){var t={Tween:function(e){this.lwf=e.lwf,this.object=e,this.valuesStart={},this.valuesEnd={},this.delayTime=this.duration=0,this.startTime=null,this.easingFunction=t.Easing.Linear.None,this.interpolationFunction=t.Interpolation.Linear,this.chainedTweens=[],this.onStartCallback=null,this.onStartCallbackFired=!1,this.onCompleteCallback=this.onUpdateCallback=null,null===this.lwf._tweens&&(this.lwf._tweens=[],"lwf"===this.lwf._tweenMode?this.lwf.addExecHandler(t._tweenExecHandler):this.lwf.addMovieEventHandler("_root",{enterFrame:t._tweenMovieHandler})),this.to=function(t,e){return void 0!==e&&(this.duration=e*this.lwf.tick),this.valuesEnd=t,this},this.start=function(){this.lwf._tweens.push(this),this.onStartCallbackFired=!1,this.startTime=this.lwf.time,this.startTime+=this.delayTime;for(var t in this.valuesEnd)if(null!==this.object[t]){if(this.valuesEnd[t]instanceof Array){if(0===this.valuesEnd[t].length)continue;this.valuesEnd[t]=[this.object[t]].concat(this.valuesEnd[t])}this.valuesStart[t]=this.object[t]}return this},this.stop=function(){var t=this.lwf._tweens.indexOf(this);return-1!==t&&(this.lwf._tweens.splice(t,1),0==this.lwf._tweens.length&&this.lwf.stopTweens()),this},this.delay=function(t){return this.delayTime=t*this.lwf.tick,this},this.easing=function(t){return this.easingFunction=t,this},this.interpolation=function(t){return this.interpolationFunction=t,this},this.chain=function(e){return e!==void 0&&null!==e?(this.chainedTweens.push(e),this):(e=new t.Tween(this.object),this.chainedTweens.push(e),e)},this.onStart=function(t){return this.onStartCallback=t,this},this.onUpdate=function(t){return this.onUpdateCallback=t,this},this.onComplete=function(t){return this.onCompleteCallback=t,this},this.update=function(t){if(this.startTime>t)return!0;if(null===this.object.property)return!1;!1===this.onStartCallbackFired&&(null!==this.onStartCallback&&this.onStartCallback.call(this.object),this.onStartCallbackFired=!0);var e,r=(t-this.startTime)/(0>=this.duration?this.lwf.tick:this.duration),r=r>1?1:r,n=this.easingFunction(r);for(e in this.valuesStart){var i=this.valuesStart[e],s=this.valuesEnd[e];this.object[e]=s instanceof Array?this.interpolationFunction(s,n):i+(s-i)*n}if(null!==this.onUpdateCallback&&this.onUpdateCallback.call(this.object,n),1==r){for(null!==this.onCompleteCallback&&this.onCompleteCallback.call(this.object),r=0,n=this.chainedTweens.length;n>r;r++)this.chainedTweens[r].start(t);return!1}return!0},this.to=this.to,this.start=this.start,this.stop=this.stop,this.delay=this.delay,this.easing=this.easing,this.interpolation=this.interpolation,this.chain=this.chain,this.onStart=this.onStart,this.onUpdate=this.onUpdate,this.onComplete=this.onComplete,this.update=this.update},Easing:{Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return 1>(t*=2)?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return 1>(t*=2)?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return 1>(t*=2)?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return 1>(t*=2)?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:1>(t*=2)?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||1>r?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/.4)))},Out:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||1>r?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/.4)+1)
},InOut:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||1>r?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),1>(t*=2)?-.5*r*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/.4):.5*r*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/.4)+1)}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){return 1>(t*=2)?.5*t*t*(3.5949095*t-2.5949095):.5*((t-=2)*t*(3.5949095*t+2.5949095)+2)}},Bounce:{In:function(e){return 1-t.Easing.Bounce.Out(1-e)},Out:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(e){return.5>e?.5*t.Easing.Bounce.In(2*e):.5*t.Easing.Bounce.Out(2*e-1)+.5}}}},e=[1];t.Interpolation={Linear:function(e,r){var n=e.length-1,i=n*r,s=Math.floor(i),a=t.Interpolation.Utils.Linear;return 0>r?a(e[0],e[1],i):r>1?a(e[n],e[n-1],n-i):a(e[s],e[s+1>n?n:s+1],i-s)},Bezier:function(e,r){var n,i=0,s=e.length-1,a=Math.pow,o=t.Interpolation.Utils.Bernstein;for(n=0;s>=n;n++)i+=a(1-r,s-n)*a(r,n)*e[n]*o(s,n);return i},CatmullRom:function(e,r){var n=e.length-1,i=n*r,s=Math.floor(i),a=t.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(0>r&&(s=Math.floor(i=n*(1+r))),a(e[(s-1+n)%n],e[s],e[(s+1)%n],e[(s+2)%n],i-s)):0>r?e[0]-(a(e[0],e[0],e[1],e[1],-i)-e[0]):r>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):a(e[s?s-1:0],e[s],e[s+1>n?n:s+1],e[s+2>n?n:s+2],i-s)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(e,r){var n=t.Interpolation.Utils.Factorial;return n(e)/n(r)/n(e-r)},Factorial:function(t){var r,n=1;if(e[t])return e[t];for(r=t;r>1;r--)n*=r;return e[t]=n},CatmullRom:function(t,e,r,n,i){t=.5*(r-t),n=.5*(n-e);var s=i*i;return(2*e-2*r+t+n)*i*s+(-3*e+3*r-2*t-n)*s+t*i+e}}};var r=global.LWF.LWF.prototype;r.setTweenMode=function(t){this._tweenMode=t},r.stopTweens=function(){null!==this._tweens&&(this._tweens=null,this.removeExecHandler(t._tweenExecHandler),this.removeMovieEventHandler("_root",{enterFrame:t._tweenMovieHandler}))},r.stopTweens=r.stopTweens,t._tweenUpdater=function(){if(null!==this._tweens){for(var t=0,e=this._tweens.length,r=this.time;e>t;)this._tweens[t].update(r)?t++:(this._tweens.splice(t,1),e--);0==this._tweens.length&&this.stopTweens()}},t._tweenExecHandler=function(){t._tweenUpdater.call(this)},t._tweenMovieHandler=function(){t._tweenUpdater.call(this.lwf)},r=global.LWF.Movie.prototype,r.addTween=function(){return new t.Tween(this)},r.stopTweens=function(){if(this.lwf===void 0||null===this.lwf||null===this.lwf._tweens)return this;for(var t=this.lwf._tweens,e=0,r=t.length;r>e;)t[e]._object===this?(t.splice(e,1),r--):e++;return 0==t.length&&this.lwf.stopTweens(),this},global.LWF.Tween=t.Tween,global.LWF.Tween.Easing=t.Easing,r=global.LWF.Tween.Easing,r.Linear=t.Easing.Linear,r.Linear.None=t.Easing.Linear.None,r.Quadratic=t.Easing.Quadratic,r.Quadratic.In=t.Easing.Quadratic.In,r.Quadratic.Out=t.Easing.Quadratic.Out,r.Quadratic.InOut=t.Easing.Quadratic.InOut,r.Cubic=t.Easing.Cubic,r.Cubic.In=t.Easing.Cubic.In,r.Cubic.Out=t.Easing.Cubic.Out,r.Cubic.InOut=t.Easing.Cubic.InOut,r.Quartic=t.Easing.Quartic,r.Quartic.In=t.Easing.Quartic.In,r.Quartic.Out=t.Easing.Quartic.Out,r.Quartic.InOut=t.Easing.Quartic.InOut,r.Quintic=t.Easing.Quintic,r.Quintic.In=t.Easing.Quintic.In,r.Quintic.Out=t.Easing.Quintic.Out,r.Quintic.InOut=t.Easing.Quintic.InOut,r.Sinusoidal=t.Easing.Sinusoidal,r.Sinusoidal.In=t.Easing.Sinusoidal.In,r.Sinusoidal.Out=t.Easing.Sinusoidal.Out,r.Sinusoidal.InOut=t.Easing.Sinusoidal.InOut,r.Exponential=t.Easing.Exponential,r.Exponential.In=t.Easing.Exponential.In,r.Exponential.Out=t.Easing.Exponential.Out,r.Exponential.InOut=t.Easing.Exponential.InOut,r.Circular=t.Easing.Circular,r.Circular.In=t.Easing.Circular.In,r.Circular.Out=t.Easing.Circular.Out,r.Circular.InOut=t.Easing.Circular.InOut,r.Elastic=t.Easing.Elastic,r.Elastic.In=t.Easing.Elastic.In,r.Elastic.Out=t.Easing.Elastic.Out,r.Elastic.InOut=t.Easing.Elastic.InOut,r.Back=t.Easing.Back,r.Back.In=t.Easing.Back.In,r.Back.Out=t.Easing.Back.Out,r.Back.InOut=t.Easing.Back.InOut,r.Bounce=t.Easing.Bounce,r.Bounce.In=t.Easing.Bounce.In,r.Bounce.Out=t.Easing.Bounce.Out,r.Bounce.InOut=t.Easing.Bounce.InOut,global.LWF.Tween.Interpolation=t.Interpolation,r=global.LWF.Tween.Interpolation,r.Linear=t.Interpolation.Linear,r.Bezier=t.Interpolation.Bezier,r.CatmullRom=t.Interpolation.CatmullRom,r.Utils=t.Interpolation.Utils,r.Utils.Linear=t.Interpolation.Utils.Linear,r.Utils.Bernstein=t.Interpolation.Utils.Bernstein,r.Utils.Factorial=t.Interpolation.Utils.Factorial,r.Utils.CatmullRom=t.Interpolation.Utils.CatmullRom}.call(this),function(){var t,e,r={Character:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",RangeError:"INVALID_CHARACTER_ERR",btoaArray:{}},n=r.btoaArray,i=r.Character,s=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(i.length);for(t=0,e=s.length;e>t;++t)s[t]=i.charCodeAt(t);for(n.CharacterTable=s,r.atobArray=function(t){for(var e,n,i=0,s=0,a=t.length,o=0,l=0,h=r.atobArray.DecodeTable;"="===t.charAt(a-1);)--a;if(e=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(3*(0|(a+3)/4)-[0,0,2,1][a%4]),1===a%4||t.length>0&&0===a)throw Error(r.RangeError);for(;a>s;){if(n=t.charCodeAt(s++),n=256>n?h[n]:-1,-1===n)throw Error(r.RangeError);i=(i<<6)+n,l+=6,l>=8&&(l-=8,n=i>>l,e[o++]=n,i^=n<<l)}return e},n=r.atobArray,s=r.btoaArray.CharacterTable,i=new("undefined"!=typeof Int16Array?Int16Array:Array)(256),t=s instanceof Array?s:Array.prototype.slice.call(s),s=0;255>s;++s)i[s]=t.indexOf(s);n.DecodeTable=i,global.LWF.Base64=r}.call(this),function(){var t={},e=!1;"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&(e=!0),t.CompressionMethod={DEFLATE:8,RESERVED:15},t.Adler32=function(e){return"string"==typeof e&&(e=t.Util.stringToByteArray(e)),t.Adler32.update(1,e)},t.Adler32.update=function(e,r){for(var n,i=65535&e,s=65535&e>>>16,a=r.length,o=0;a>0;){n=a>t.Adler32.OptimizationParameter?t.Adler32.OptimizationParameter:a,a-=n;do i+=r[o++],s+=i;while(--n);i%=65521,s%=65521}return(s<<16|i)>>>0},t.Adler32.OptimizationParameter=1024,t.Huffman={},t.Huffman.buildHuffmanTable=function(t){var r,n,i,s,a,o,l,h,c,u=t.length,p=0,d=Number.POSITIVE_INFINITY;for(h=0;u>h;++h)t[h]>p&&(p=t[h]),d>t[h]&&(d=t[h]);for(r=1<<p,n=new(e?Uint32Array:Array)(r),i=1,s=0,a=2;p>=i;){for(h=0;u>h;++h)if(t[h]===i){for(o=0,l=s,c=0;i>c;++c)o=o<<1|1&l,l>>=1;for(c=o;r>c;c+=a)n[c]=i<<16|h;++s}++i,s<<=1,a<<=1}return[n,p,d]};var r=t.Huffman.buildHuffmanTable;t.RawInflate=function(r,n){switch(this.blocks=[],this.bufferSize=32768,this.bitsbuflen=this.bitsbuf=this.ip=this.totalpos=0,this.input=e?new Uint8Array(r):r,this.bfinal=!1,this.bufferType=t.RawInflate.BufferType.ADAPTIVE,this.resize=!1,(n||!(n={}))&&(n.index&&(this.ip=n.index),n.bufferSize&&(this.bufferSize=n.bufferSize),n.bufferType&&(this.bufferType=n.bufferType),n.resize&&(this.resize=n.resize)),this.bufferType){case t.RawInflate.BufferType.BLOCK:this.op=t.RawInflate.MaxBackwardLength,this.output=new(e?Uint8Array:Array)(t.RawInflate.MaxBackwardLength+this.bufferSize+t.RawInflate.MaxCopyLength);break;case t.RawInflate.BufferType.ADAPTIVE:this.op=0,this.output=new(e?Uint8Array:Array)(this.bufferSize),this.expandBuffer=this.expandBufferAdaptive,this.concatBuffer=this.concatBufferDynamic,this.decodeHuffman=this.decodeHuffmanAdaptive;break;default:throw Error("invalid inflate mode")}},t.RawInflate.BufferType={BLOCK:0,ADAPTIVE:1},t.RawInflate.prototype.decompress=function(){for(;!this.bfinal;)this.parseBlock();return this.concatBuffer()},t.RawInflate.MaxBackwardLength=32768,t.RawInflate.MaxCopyLength=258;var n,i=t.RawInflate;n=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],n=e?new Uint16Array(n):n,i.Order=n,i=t.RawInflate,n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],n=e?new Uint16Array(n):n,i.LengthCodeTable=n,i=t.RawInflate,n=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],n=e?new Uint8Array(n):n,i.LengthExtraTable=n,i=t.RawInflate,n=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],n=e?new Uint16Array(n):n,i.DistCodeTable=n,i=t.RawInflate,n=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],n=e?new Uint8Array(n):n,i.DistExtraTable=n,i=t.RawInflate,n=new(e?Uint8Array:Array)(288);var s,a;for(s=0,a=n.length;a>s;++s)n[s]=143>=s?8:255>=s?9:279>=s?7:8;for(n=r(n),i.FixedLiteralLengthTable=n,i=t.RawInflate,n=new(e?Uint8Array:Array)(30),s=0,a=n.length;a>s;++s)n[s]=5;n=r(n),i.FixedDistanceTable=n,t.RawInflate.prototype.parseBlock=function(){var t=this.readBits(3);switch(1&t&&(this.bfinal=!0),t>>>=1){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw Error("unknown BTYPE: "+t)}},t.RawInflate.prototype.readBits=function(t){for(var e,r=this.bitsbuf,n=this.bitsbuflen,i=this.input,s=this.ip;t>n;){if(e=i[s++],void 0===e)throw Error("input buffer is broken");r|=e<<n,n+=8}return e=r&(1<<t)-1,this.bitsbuf=r>>>t,this.bitsbuflen=n-t,this.ip=s,e},t.RawInflate.prototype.readCodeByTable=function(t){var e=this.bitsbuf,r=this.bitsbuflen,n=this.input,i=this.ip,s=t[0];t=t[1];for(var a;t>r;){if(a=n[i++],void 0===a)throw Error("input buffer is broken");e|=a<<r,r+=8}return n=s[e&(1<<t)-1],s=n>>>16,this.bitsbuf=e>>s,this.bitsbuflen=r-s,this.ip=i,65535&n},t.RawInflate.prototype.parseUncompressedBlock=function(){var r,n,i,s=this.input,a=this.ip,o=this.output,l=this.op,h=o.length;if(this.bitsbuflen=this.bitsbuf=0,r=s[a++],void 0===r)throw Error("invalid uncompressed block header: LEN (first byte)");if(n=r,r=s[a++],void 0===r)throw Error("invalid uncompressed block header: LEN (second byte)");if(n|=r<<8,r=s[a++],void 0===r)throw Error("invalid uncompressed block header: NLEN (first byte)");if(i=r,r=s[a++],void 0===r)throw Error("invalid uncompressed block header: NLEN (second byte)");if(n===~(i|r<<8))throw Error("invalid uncompressed block header: length verify");if(a+n>s.length)throw Error("input buffer is broken");switch(this.bufferType){case t.RawInflate.BufferType.BLOCK:for(;l+n>o.length;){if(r=h-l,n-=r,e)o.set(s.subarray(a,a+r),l),l+=r,a+=r;else for(;r--;)o[l++]=s[a++];this.op=l,o=this.expandBuffer(),l=this.op}break;case t.RawInflate.BufferType.ADAPTIVE:for(;l+n>o.length;)o=this.expandBuffer({fixRatio:2});break;default:throw Error("invalid inflate mode")}if(e)o.set(s.subarray(a,a+n),l),l+=n,a+=n;else for(;n--;)o[l++]=s[a++];this.ip=a,this.op=l,this.output=o},t.RawInflate.prototype.parseFixedHuffmanBlock=function(){this.decodeHuffman(t.RawInflate.FixedLiteralLengthTable,t.RawInflate.FixedDistanceTable)},t.RawInflate.prototype.parseDynamicHuffmanBlock=function(){function n(t,e,r){var n,i,s;for(s=0;t>s;)switch(n=this.readCodeByTable(e)){case 16:for(n=3+this.readBits(2);n--;)r[s++]=i;break;case 17:for(n=3+this.readBits(3);n--;)r[s++]=0;i=0;break;case 18:for(n=11+this.readBits(7);n--;)r[s++]=0;i=0;break;default:i=r[s++]=n}return r}var i,s=this.readBits(5)+257,a=this.readBits(5)+1,o=this.readBits(4)+4,l=new(e?Uint8Array:Array)(t.RawInflate.Order.length);for(i=0;o>i;++i)l[t.RawInflate.Order[i]]=this.readBits(3);o=r(l),l=new(e?Uint8Array:Array)(s),i=new(e?Uint8Array:Array)(a),this.decodeHuffman(r(n.call(this,s,o,l)),r(n.call(this,a,o,i)))},t.RawInflate.prototype.decodeHuffman=function(e,r){var n=this.output,i=this.op;this.currentLitlenTable=e;for(var s,a,o,l=n.length-t.RawInflate.MaxCopyLength;256!==(s=this.readCodeByTable(e));)if(256>s)i>=l&&(this.op=i,n=this.expandBuffer(),i=this.op),n[i++]=s;else for(s-=257,o=t.RawInflate.LengthCodeTable[s],t.RawInflate.LengthExtraTable[s]>0&&(o+=this.readBits(t.RawInflate.LengthExtraTable[s])),s=this.readCodeByTable(r),a=t.RawInflate.DistCodeTable[s],t.RawInflate.DistExtraTable[s]>0&&(a+=this.readBits(t.RawInflate.DistExtraTable[s])),i>=l&&(this.op=i,n=this.expandBuffer(),i=this.op);o--;)n[i]=n[i++-a];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=i},t.RawInflate.prototype.decodeHuffmanAdaptive=function(e,r){var n=this.output,i=this.op;this.currentLitlenTable=e;for(var s,a,o,l=n.length;256!==(s=this.readCodeByTable(e));)if(256>s)i>=l&&(n=this.expandBuffer(),l=n.length),n[i++]=s;else for(s-=257,o=t.RawInflate.LengthCodeTable[s],t.RawInflate.LengthExtraTable[s]>0&&(o+=this.readBits(t.RawInflate.LengthExtraTable[s])),s=this.readCodeByTable(r),a=t.RawInflate.DistCodeTable[s],t.RawInflate.DistExtraTable[s]>0&&(a+=this.readBits(t.RawInflate.DistExtraTable[s])),i+o>l&&(n=this.expandBuffer(),l=n.length);o--;)n[i]=n[i++-a];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=i},t.RawInflate.prototype.expandBuffer=function(){var r,n,i=new(e?Uint8Array:Array)(this.op-t.RawInflate.MaxBackwardLength),s=this.op-t.RawInflate.MaxBackwardLength,a=this.output;if(e)i.set(a.subarray(t.RawInflate.MaxBackwardLength,i.length));else for(r=0,n=i.length;n>r;++r)i[r]=a[r+t.RawInflate.MaxBackwardLength];if(this.blocks.push(i),this.totalpos+=i.length,e)a.set(a.subarray(s,s+t.RawInflate.MaxBackwardLength));else for(r=0;t.RawInflate.MaxBackwardLength>r;++r)a[r]=a[s+r];return this.op=t.RawInflate.MaxBackwardLength,a},t.RawInflate.prototype.expandBufferAdaptive=function(t){var r=0|this.input.length/this.ip+1,n=this.input,i=this.output;return t&&("number"==typeof t.fixRatio&&(r=t.fixRatio),"number"==typeof t.addRatio&&(r+=t.addRatio)),2>r?(t=(n.length-this.ip)/this.currentLitlenTable[2],t=0|258*(t/2),t=i.length>t?i.length+t:i.length<<1):t=i.length*r,e?(t=new Uint8Array(t),t.set(i)):t=i,this.output=t},t.RawInflate.prototype.concatBuffer=function(){var r,n,i,s,a,o=0,l=this.output,h=this.blocks,c=new(e?Uint8Array:Array)(this.totalpos+(this.op-t.RawInflate.MaxBackwardLength));if(0===h.length)return e?this.output.subarray(t.RawInflate.MaxBackwardLength,this.op):this.output.slice(t.RawInflate.MaxBackwardLength,this.op);for(n=0,i=h.length;i>n;++n)for(r=h[n],s=0,a=r.length;a>s;++s)c[o++]=r[s];for(n=t.RawInflate.MaxBackwardLength,i=this.op;i>n;++n)c[o++]=l[n];return this.blocks=[],this.buffer=c},t.RawInflate.prototype.concatBufferDynamic=function(){var t,r=this.op;return e?this.resize?(t=new Uint8Array(r),t.set(this.output.subarray(0,r))):t=this.output.subarray(0,r):(this.output.length>r&&(this.output.length=r),t=this.output),this.buffer=t},t.Inflate=function(e,r){var n,i;switch(this.input=e,this.ip=0,(r||!(r={}))&&(r.index&&(this.ip=r.index),r.verify&&(this.verify=r.verify)),n=e[this.ip++],i=e[this.ip++],15&n){case t.CompressionMethod.DEFLATE:this.method=t.CompressionMethod.DEFLATE;break;default:throw Error("unsupported compression method")}if(0!==((n<<8)+i)%31)throw Error("invalid fcheck flag:"+((n<<8)+i)%31);if(32&i)throw Error("fdict flag is not supported");this.rawinflate=new t.RawInflate(e,{index:this.ip,bufferSize:r.bufferSize,bufferType:r.bufferType,resize:r.resize})},t.Inflate.BufferType=t.RawInflate.BufferType,t.Inflate.prototype.decompress=function(){var e,r=this.input;if(e=this.rawinflate.decompress(),this.ip=this.rawinflate.ip,this.verify&&(r=(r[this.ip++]<<24|r[this.ip++]<<16|r[this.ip++]<<8|r[this.ip++])>>>0,r!==t.Adler32(e)))throw Error("invalid adler-32 checksum");return e},global.LWF.Zlib=t}.call(this)}).call(this);